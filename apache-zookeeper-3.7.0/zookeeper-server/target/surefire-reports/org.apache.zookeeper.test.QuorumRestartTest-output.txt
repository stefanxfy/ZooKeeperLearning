2021-11-08 11:24:04,397 [myid:] - INFO  [main:ZKTestCase@77] - STARTING Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRollingRestartBackwards() throws java.lang.Exception]
2021-11-08 11:24:04,983 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc6AAtVbmljYXN0UmVmMgAADzE2OS4yNTQuMTU2LjIzMQAAMN05NhD+mXRw9dMBQ7QAAAF8/ZMJ2YABAHg=
2021-11-08 11:24:05,009 [myid:] - INFO  [main:PortAssignment@154] - Test process 8/8 using ports from 30072 - 32764.
2021-11-08 11:24:05,010 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30073 from range 30072 - 32764.
2021-11-08 11:24:05,013 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30074 from range 30072 - 32764.
2021-11-08 11:24:05,013 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30075 from range 30072 - 32764.
2021-11-08 11:24:05,016 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30076 from range 30072 - 32764.
2021-11-08 11:24:05,017 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30077 from range 30072 - 32764.
2021-11-08 11:24:05,017 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30078 from range 30072 - 32764.
2021-11-08 11:24:05,019 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30079 from range 30072 - 32764.
2021-11-08 11:24:05,019 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30080 from range 30072 - 32764.
2021-11-08 11:24:05,019 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30081 from range 30072 - 32764.
2021-11-08 11:24:05,019 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30073
2021-11-08 11:24:05,025 [myid:] - INFO  [main:QuorumPeer@796] - zookeeper.quorumCnxnTimeoutMs=-1
2021-11-08 11:24:05,079 [myid:] - INFO  [main:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2021-11-08 11:24:05,080 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:05,080 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:05,081 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:05,593 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:05,594 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:05,594 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@3943a2be secure: false on addr /127.0.0.1:30073
2021-11-08 11:24:05,601 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:05,615 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2021-11-08 11:24:05,615 [myid:] - INFO  [main:ZookeeperBanner@42] -   ______                  _                                          
2021-11-08 11:24:05,615 [myid:] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |                                         
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               | |                     
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               |_|                     
2021-11-08 11:24:05,616 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2021-11-08 11:24:14,659 [myid:] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.7.0-02d8e7728613600d355308bb0a256b6f5b41360c-dirty, built on 2021-11-08 03:06 UTC
2021-11-08 11:24:14,659 [myid:] - INFO  [main:Environment@98] - Server environment:host.name=DESKTOP-3V3H020
2021-11-08 11:24:14,660 [myid:] - INFO  [main:Environment@98] - Server environment:java.version=1.8.0_31
2021-11-08 11:24:14,660 [myid:] - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2021-11-08 11:24:14,660 [myid:] - INFO  [main:Environment@98] - Server environment:java.home=C:\Program Files\Java\jdk1.8.0_31\jre
2021-11-08 11:24:14,661 [myid:] - INFO  [main:Environment@98] - Server environment:java.class.path=D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\test-classes;D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\classes;D:\mysoft\maven\repository\com\github\spotbugs\spotbugs-annotations\4.0.2\spotbugs-annotations-4.0.2.jar;D:\mysoft\maven\repository\com\google\code\findbugs\jsr305\3.0.2\jsr305-3.0.2.jar;D:\mysoft\maven\repository\org\hamcrest\hamcrest-library\2.2\hamcrest-library-2.2.jar;D:\mysoft\maven\repository\org\hamcrest\hamcrest-core\2.2\hamcrest-core-2.2.jar;D:\mysoft\maven\repository\org\hamcrest\hamcrest\2.2\hamcrest-2.2.jar;D:\mysoft\maven\repository\org\apache\commons\commons-collections4\4.4\commons-collections4-4.4.jar;D:\mysoft\maven\repository\org\apache\zookeeper\zookeeper-jute\3.7.0\zookeeper-jute-3.7.0.jar;D:\mysoft\maven\repository\commons-cli\commons-cli\1.4\commons-cli-1.4.jar;D:\mysoft\maven\repository\org\apache\yetus\audience-annotations\0.12.0\audience-annotations-0.12.0.jar;D:\mysoft\maven\repository\io\netty\netty-handler\4.1.59.Final\netty-handler-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-common\4.1.59.Final\netty-common-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-resolver\4.1.59.Final\netty-resolver-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-buffer\4.1.59.Final\netty-buffer-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-transport\4.1.59.Final\netty-transport-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-codec\4.1.59.Final\netty-codec-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-transport-native-epoll\4.1.59.Final\netty-transport-native-epoll-4.1.59.Final.jar;D:\mysoft\maven\repository\io\netty\netty-transport-native-unix-common\4.1.59.Final\netty-transport-native-unix-common-4.1.59.Final.jar;D:\mysoft\maven\repository\org\slf4j\slf4j-api\1.7.30\slf4j-api-1.7.30.jar;D:\mysoft\maven\repository\org\slf4j\slf4j-log4j12\1.7.30\slf4j-log4j12-1.7.30.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-server\9.4.38.v20210224\jetty-server-9.4.38.v20210224.jar;D:\mysoft\maven\repository\javax\servlet\javax.servlet-api\3.1.0\javax.servlet-api-3.1.0.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-http\9.4.38.v20210224\jetty-http-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-util\9.4.38.v20210224\jetty-util-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-io\9.4.38.v20210224\jetty-io-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-servlet\9.4.38.v20210224\jetty-servlet-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-security\9.4.38.v20210224\jetty-security-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-util-ajax\9.4.38.v20210224\jetty-util-ajax-9.4.38.v20210224.jar;D:\mysoft\maven\repository\org\eclipse\jetty\jetty-client\9.4.38.v20210224\jetty-client-9.4.38.v20210224.jar;D:\mysoft\maven\repository\com\fasterxml\jackson\core\jackson-databind\2.10.5.1\jackson-databind-2.10.5.1.jar;D:\mysoft\maven\repository\com\fasterxml\jackson\core\jackson-annotations\2.10.5\jackson-annotations-2.10.5.jar;D:\mysoft\maven\repository\com\fasterxml\jackson\core\jackson-core\2.10.5\jackson-core-2.10.5.jar;D:\mysoft\maven\repository\org\bouncycastle\bcprov-jdk15on\1.60\bcprov-jdk15on-1.60.jar;D:\mysoft\maven\repository\org\bouncycastle\bcpkix-jdk15on\1.60\bcpkix-jdk15on-1.60.jar;D:\mysoft\maven\repository\jline\jline\2.14.6\jline-2.14.6.jar;D:\mysoft\maven\repository\io\dropwizard\metrics\metrics-core\4.1.12.1\metrics-core-4.1.12.1.jar;D:\mysoft\maven\repository\log4j\log4j\1.2.17\log4j-1.2.17.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-core\2.0.0\kerb-core-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerby-pkix\2.0.0\kerby-pkix-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerby-asn1\2.0.0\kerby-asn1-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerby-util\2.0.0\kerby-util-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-simplekdc\2.0.0\kerb-simplekdc-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-client\2.0.0\kerb-client-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-common\2.0.0\kerb-common-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-crypto\2.0.0\kerb-crypto-2.0.0.jar;D:\mysoft\maven\repository\commons-io\commons-io\2.6\commons-io-2.6.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-util\2.0.0\kerb-util-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\token-provider\2.0.0\token-provider-2.0.0.jar;D:\mysoft\maven\repository\com\nimbusds\nimbus-jose-jwt\4.41.2\nimbus-jose-jwt-4.41.2.jar;D:\mysoft\maven\repository\com\github\stephenc\jcip\jcip-annotations\1.0-1\jcip-annotations-1.0-1.jar;D:\mysoft\maven\repository\net\minidev\json-smart\2.3\json-smart-2.3.jar;D:\mysoft\maven\repository\net\minidev\accessors-smart\1.2\accessors-smart-1.2.jar;D:\mysoft\maven\repository\org\ow2\asm\asm\5.0.4\asm-5.0.4.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-admin\2.0.0\kerb-admin-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-server\2.0.0\kerb-server-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerb-identity\2.0.0\kerb-identity-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerby-xdr\2.0.0\kerby-xdr-2.0.0.jar;D:\mysoft\maven\repository\org\apache\kerby\kerby-config\2.0.0\kerby-config-2.0.0.jar;D:\mysoft\maven\repository\org\mockito\mockito-core\3.6.28\mockito-core-3.6.28.jar;D:\mysoft\maven\repository\net\bytebuddy\byte-buddy\1.10.18\byte-buddy-1.10.18.jar;D:\mysoft\maven\repository\net\bytebuddy\byte-buddy-agent\1.10.18\byte-buddy-agent-1.10.18.jar;D:\mysoft\maven\repository\org\objenesis\objenesis\3.1\objenesis-3.1.jar;D:\mysoft\maven\repository\org\jmockit\jmockit\1.48\jmockit-1.48.jar;D:\mysoft\maven\repository\org\junit\jupiter\junit-jupiter-api\5.6.2\junit-jupiter-api-5.6.2.jar;D:\mysoft\maven\repository\org\apiguardian\apiguardian-api\1.1.0\apiguardian-api-1.1.0.jar;D:\mysoft\maven\repository\org\opentest4j\opentest4j\1.2.0\opentest4j-1.2.0.jar;D:\mysoft\maven\repository\org\junit\platform\junit-platform-commons\1.6.2\junit-platform-commons-1.6.2.jar;D:\mysoft\maven\repository\org\junit\jupiter\junit-jupiter-engine\5.6.2\junit-jupiter-engine-5.6.2.jar;D:\mysoft\maven\repository\org\junit\platform\junit-platform-engine\1.6.2\junit-platform-engine-1.6.2.jar;D:\mysoft\maven\repository\org\junit\jupiter\junit-jupiter-params\5.6.2\junit-jupiter-params-5.6.2.jar;D:\mysoft\maven\repository\org\junit\platform\junit-platform-runner\1.6.2\junit-platform-runner-1.6.2.jar;D:\mysoft\maven\repository\junit\junit\4.13\junit-4.13.jar;D:\mysoft\maven\repository\org\junit\platform\junit-platform-launcher\1.6.2\junit-platform-launcher-1.6.2.jar;D:\mysoft\maven\repository\org\junit\platform\junit-platform-suite-api\1.6.2\junit-platform-suite-api-1.6.2.jar;D:\mysoft\maven\repository\org\xerial\snappy\snappy-java\1.1.7.7\snappy-java-1.1.7.7.jar;
2021-11-08 11:24:14,662 [myid:] - INFO  [main:Environment@98] - Server environment:java.library.path=C:\Program Files\Java\jdk1.8.0_31\jre\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files\Java\jdk1.8.0_31\jre\bin;C:\Python39\Scripts\;C:\Python39\;C:\Python27\;C:\Python27\Scripts;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\iCLS\;C:\Program Files\Intel\Intel(R) Management Engine Components\iCLS\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\TortoiseSVN\bin;C:\Program Files\Java\jdk1.8.0_31\bin;D:\soft\Git\cmd;D:\mysoft\maven\apache-maven-3.6.1\bin;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;D:\mysoft\gradle-7.0\bin;C:\ProgramData\Oracle\Java\javapath;C:\Program Files\OpenVPN\bin;C:\Users\faisco\AppData\Local\Microsoft\WindowsApps;;D:\soft\Microsoft VS Code\bin;D:\soft\PyCharm Community Edition 2019.1.3\bin;;D:\soft\PyCharm 2019.2.3\bin;;C:\Users\faisco\AppData\Local\Microsoft\WindowsApps;C:\Program Files\JetBrains\IntelliJ IDEA 2020.1\bin;;C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2020.1.3\bin;;C:\Users\faisco\AppData\Roaming\npm;.
2021-11-08 11:24:14,662 [myid:] - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=C:\Users\faisco\AppData\Local\Temp\
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:os.name=Windows 8.1
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:os.arch=amd64
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:os.version=6.3
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:user.name=faisco
2021-11-08 11:24:14,663 [myid:] - INFO  [main:Environment@98] - Server environment:user.home=C:\Users\faisco
2021-11-08 11:24:14,664 [myid:] - INFO  [main:Environment@98] - Server environment:user.dir=D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server
2021-11-08 11:24:14,664 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=216MB
2021-11-08 11:24:14,664 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=455MB
2021-11-08 11:24:14,664 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=243MB
2021-11-08 11:24:14,664 [myid:] - INFO  [main:ZooKeeperServer@138] - zookeeper.enableEagerACLCheck = false
2021-11-08 11:24:14,664 [myid:] - INFO  [main:ZooKeeperServer@151] - zookeeper.digest.enabled = true
2021-11-08 11:24:14,665 [myid:] - INFO  [main:ZooKeeperServer@155] - zookeeper.closeSessionTxn.enabled = true
2021-11-08 11:24:14,665 [myid:] - INFO  [main:ZooKeeperServer@1499] - zookeeper.flushDelay=0
2021-11-08 11:24:14,665 [myid:] - INFO  [main:ZooKeeperServer@1508] - zookeeper.maxWriteQueuePollTime=0
2021-11-08 11:24:14,665 [myid:] - INFO  [main:ZooKeeperServer@1517] - zookeeper.maxBatchSize=1000
2021-11-08 11:24:14,666 [myid:] - INFO  [main:ZooKeeperServer@260] - zookeeper.intBufferStartingSizeBytes = 1024
2021-11-08 11:24:14,671 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:14,671 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:14,671 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:14,671 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:14,672 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:14,673 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30076
2021-11-08 11:24:14,673 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:14,673 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:14,674 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:15,259 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:15,259 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:15,259 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@61d6015a secure: false on addr /127.0.0.1:30076
2021-11-08 11:24:15,259 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:15,260 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:15,260 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:15,260 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:15,261 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:15,261 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:15,261 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30079
2021-11-08 11:24:15,263 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:15,264 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:15,264 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:15,947 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:15,948 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:15,948 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@e1de817 secure: false on addr /127.0.0.1:30079
2021-11-08 11:24:15,948 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:15,949 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:15,949 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:15,949 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:15,949 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:15,949 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:15,950 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 1
2021-11-08 11:24:15,950 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30073
2021-11-08 11:24:15,953 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 1
2021-11-08 11:24:15,953 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 1 to exit thread
2021-11-08 11:24:15,953 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 2
2021-11-08 11:24:15,954 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30076
2021-11-08 11:24:15,954 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 2
2021-11-08 11:24:15,955 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 2 to exit thread
2021-11-08 11:24:15,955 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 3
2021-11-08 11:24:15,955 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30079
2021-11-08 11:24:15,956 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 3
2021-11-08 11:24:15,956 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 3 to exit thread
2021-11-08 11:24:15,958 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:17,995 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30073 is no longer accepting client connections
2021-11-08 11:24:17,996 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:20,050 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30076 is no longer accepting client connections
2021-11-08 11:24:20,050 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:22,092 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30079 is no longer accepting client connections
2021-11-08 11:24:22,092 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30073
2021-11-08 11:24:22,092 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:22,092 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:22,093 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:22,462 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:22,463 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:22,463 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@6a370f4 secure: false on addr /127.0.0.1:30073
2021-11-08 11:24:22,463 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:22,463 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:22,463 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:22,463 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:22,464 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:22,464 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:22,478 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:22,483 [myid:] - INFO  [main:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2021-11-08 11:24:22,483 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2\snapshot.0
2021-11-08 11:24:22,487 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 23 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:22,488 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:22,492 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:22,495 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30073
2021-11-08 11:24:24,160 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30073
2021-11-08 11:24:24,160 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:24,164 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:24,165 [myid:] - INFO  [main:FastLeaderElection@89] - zookeeper.fastleader.minNotificationInterval=200
2021-11-08 11:24:24,166 [myid:] - INFO  [main:FastLeaderElection@91] - zookeeper.fastleader.maxNotificationInterval=60000
2021-11-08 11:24:24,167 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1066] - 1 is accepting connections now, my election bind port: /127.0.0.1:30075
2021-11-08 11:24:24,168 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2021-11-08 11:24:24,168 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30076
2021-11-08 11:24:24,168 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:24,169 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:24,169 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:24,177 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:24,178 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:24:24,185 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,390 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:24:24,562 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:24,562 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:24,562 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@5e600dd5 secure: false on addr /127.0.0.1:30076
2021-11-08 11:24:24,563 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:24,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:24,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:24,563 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:24,563 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:24,563 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:24,564 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:24,564 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2\snapshot.0
2021-11-08 11:24:24,565 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:24,565 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:24,572 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:24,575 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30076
2021-11-08 11:24:24,576 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30076
2021-11-08 11:24:24,577 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:24,577 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:24,577 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2021-11-08 11:24:24,577 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30079
2021-11-08 11:24:24,578 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30078
2021-11-08 11:24:24,578 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:24,578 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:24,578 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:24,578 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:24:24,578 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:24,580 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12940
2021-11-08 11:24:24,580 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,583 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,583 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,584 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,586 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,699 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12912
2021-11-08 11:24:24,699 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:24:24,701 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:24,701 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12946
2021-11-08 11:24:24,701 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:24,702 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:24,703 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:24,703 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:24,701 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:24,704 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,704 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,702 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:24,704 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:24,916 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:24:24,916 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:24,916 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:24:24,916 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:24,919 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):LearnerMaster@47] - zookeeper.leader.maxConcurrentSnapSyncs = 10
2021-11-08 11:24:24,919 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):LearnerMaster@50] - zookeeper.leader.maxConcurrentDiffSyncs = 100
2021-11-08 11:24:24,919 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@87] - TCP NoDelay set to: true
2021-11-08 11:24:24,920 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@108] - zookeeper.leader.ackLoggingFrequency = 1000
2021-11-08 11:24:24,920 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@1345] - zookeeper.leader.maxTimeToWaitForEpoch = -1ms
2021-11-08 11:24:24,922 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@127] - leaderConnectDelayDuringRetryMs: 100
2021-11-08 11:24:24,922 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@128] - TCP NoDelay set to: true
2021-11-08 11:24:24,922 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@129] - learner.asyncSending = false
2021-11-08 11:24:24,923 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@130] - learner.closeSocketAsync = false
2021-11-08 11:24:24,923 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2021-11-08 11:24:24,925 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:24,925 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:24,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:24,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:24,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:24,926 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:24,926 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:24,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:24,927 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:24,928 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:24,928 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:24,929 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:24,929 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:24,929 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:24,929 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:24,930 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:24,930 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:24,930 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:24,930 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:24,931 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2
2021-11-08 11:24:24,930 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2
2021-11-08 11:24:24,932 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 755 MS
2021-11-08 11:24:24,934 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 356 MS
2021-11-08 11:24:24,935 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:24,936 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:24:24,937 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2\snapshot.0
2021-11-08 11:24:24,938 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30077:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30077
2021-11-08 11:24:24,941 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 4 ms
2021-11-08 11:24:24,947 [myid:] - INFO  [LearnerCnxAcceptorHandler-/127.0.0.1:30077:LearnerHandler@72] - leader.closeSocketAsync = false
2021-11-08 11:24:24,949 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12953:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30074:30075:participant;127.0.0.1:30073
2021-11-08 11:24:24,956 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:24,959 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12953:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:24,959 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12953:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2021-11-08 11:24:24,959 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12953:LearnerHandler@846] - Sending DIFF zxid=0x0 for peer sid: 1
2021-11-08 11:24:24,960 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:24,962 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@562] - Getting a diff from the leader 0x0
2021-11-08 11:24:24,963 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2021-11-08 11:24:24,964 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:24:24,969 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:24,970 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:24,972 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:24,972 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:24,972 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@25641d39 secure: false on addr /127.0.0.1:30079
2021-11-08 11:24:24,972 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:24,973 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:24,973 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:24,973 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:24,973 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:24,973 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:24,974 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:24,974 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:24,974 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2\snapshot.0
2021-11-08 11:24:24,975 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:24,975 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:24,978 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:24,978 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:24,979 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:24,980 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:24,982 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30079
2021-11-08 11:24:24,982 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestThrottler@75] - zookeeper.request_throttler.shutdownTimeout = 10000
2021-11-08 11:24:24,983 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30079
2021-11-08 11:24:24,983 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:24,984 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:24,984 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2021-11-08 11:24:24,984 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:30073,127.0.0.1:30076,127.0.0.1:30079
2021-11-08 11:24:24,984 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:24,986 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:24,986 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x0
2021-11-08 11:24:24,992 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30081
2021-11-08 11:24:24,994 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,995 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12981
2021-11-08 11:24:24,996 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12982
2021-11-08 11:24:24,998 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,998 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,998 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,999 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:24,999 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,000 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:25,000 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2
2021-11-08 11:24:25,001 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 2]]; starting up and setting last processed zxid: 0x100000000
2021-11-08 11:24:25,001 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 15 MS
2021-11-08 11:24:25,001 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:24:25,001 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:25,002 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30077:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30077
2021-11-08 11:24:25,004 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12985:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30080:30081:participant;127.0.0.1:30079
2021-11-08 11:24:25,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:25,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:25,006 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:24:25,007 [myid:] - WARN  [nioEventLoopGroup-13-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:25,008 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12985:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:25,008 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:25,008 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12985:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2021-11-08 11:24:25,009 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12985:LearnerHandler@846] - Sending DIFF zxid=0x0 for peer sid: 3
2021-11-08 11:24:25,010 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:2) started, reconfigEnabled=false
2021-11-08 11:24:25,011 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:24:25,013 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:24:25,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:25,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:25,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@562] - Getting a diff from the leader 0x0
2021-11-08 11:24:25,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2021-11-08 11:24:25,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:25,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:25,019 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:25,019 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:25,019 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:25,019 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:25,020 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:25,020 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:25,084 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:24:25,084 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12941
2021-11-08 11:24:25,084 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,085 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:25,085 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,085 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,086 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:25,086 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12999
2021-11-08 11:24:25,086 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:25,086 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,087 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:25,089 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,089 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,090 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,099 [myid:] - WARN  [Thread-2:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:25,209 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:12911
2021-11-08 11:24:25,209 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2021-11-08 11:24:25,209 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,209 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,209 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,210 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:25,210 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:25,210 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:25,210 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13005
2021-11-08 11:24:25,210 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,211 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:25,212 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,212 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,213 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:25,258 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:25,276 [myid:] - INFO  [nioEventLoopGroup-13-2:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2021-11-08 11:24:25,276 [myid:] - INFO  [nioEventLoopGroup-13-2:FourLetterCommands@224] - The list of enabled four letter word commands is : [[wchs, stat, wchp, dirs, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, telnet close, crst, hash, cons]]
2021-11-08 11:24:25,276 [myid:] - INFO  [nioEventLoopGroup-13-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13007
2021-11-08 11:24:25,280 [myid:] - INFO  [nioEventLoopGroup-13-2:StatCommand@52] - Stat command output
2021-11-08 11:24:25,288 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30073 is accepting client connections
2021-11-08 11:24:25,289 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:25,291 [myid:] - INFO  [nioEventLoopGroup-16-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13008
2021-11-08 11:24:25,291 [myid:] - INFO  [nioEventLoopGroup-16-1:StatCommand@52] - Stat command output
2021-11-08 11:24:25,292 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30076 is accepting client connections
2021-11-08 11:24:25,292 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:25,294 [myid:] - INFO  [nioEventLoopGroup-19-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13009
2021-11-08 11:24:25,294 [myid:] - INFO  [nioEventLoopGroup-19-1:StatCommand@52] - Stat command output
2021-11-08 11:24:25,295 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30079 is accepting client connections
2021-11-08 11:24:25,295 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2021-11-08 11:24:25,299 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:24:25,299 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:25,299 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:25,299 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:25,299 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:12953",name5="id:1"
2021-11-08 11:24:25,300 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2021-11-08 11:24:25,301 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:12985",name5="id:3"
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:24:25,303 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:25,304 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:25,305 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2021-11-08 11:24:25,306 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:24:25,307 [myid:] - INFO  [main:QuorumRestartTest@79] - ***** restarting: 3
2021-11-08 11:24:25,308 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3
2021-11-08 11:24:25,308 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:25,308 [myid:] - ERROR [LearnerHandler-/127.0.0.1:12985:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:25,308 [myid:] - INFO  [LearnerHandler-/127.0.0.1:12985:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:24:25,308 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:25,308 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:25,308 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:25,308 [myid:] - WARN  [LearnerHandler-/127.0.0.1:12985:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:12985 ********
2021-11-08 11:24:25,309 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:25,309 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:25,309 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30077). Was connected for 306ms. Sync state: true
2021-11-08 11:24:25,309 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:25,309 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:25,309 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:25,310 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:25,310 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:25,309 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:25,310 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30079
2021-11-08 11:24:25,310 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:25,310 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:25,310 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:25,314 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:25,314 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,315 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,315 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,315 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,316 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3
2021-11-08 11:24:25,316 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:25,316 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,315 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:25,315 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:25,315 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:25,317 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:25,317 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:25,316 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3 to exit thread
2021-11-08 11:24:25,316 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:25,318 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:25,318 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,318 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:25,318 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:25,319 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:25,500 [myid:] - WARN  [Thread-5:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:25,515 [myid:] - WARN  [Thread-4:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:25,591 [myid:] - WARN  [Thread-8:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:25,713 [myid:] - WARN  [Thread-9:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:27,432 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30079
2021-11-08 11:24:27,513 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:27,514 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:27,514 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:28,018 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:28,214 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:28,523 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:28,523 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:28,523 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@f78a47e secure: false on addr /127.0.0.1:30079
2021-11-08 11:24:28,523 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:28,523 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:28,523 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:28,524 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:28,524 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:28,524 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:28,525 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2\snapshot.0
2021-11-08 11:24:28,526 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:28,526 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:28,526 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30079
2021-11-08 11:24:28,528 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30079
2021-11-08 11:24:28,528 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:28,528 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:28,528 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:28,529 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30081
2021-11-08 11:24:28,529 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:28,529 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x0
2021-11-08 11:24:28,530 [myid:] - WARN  [nioEventLoopGroup-22-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:28,530 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13193
2021-11-08 11:24:28,531 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,532 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13194
2021-11-08 11:24:28,532 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,532 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,533 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,533 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,533 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:28,533 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:28,533 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2021-11-08 11:24:28,534 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:28,535 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30077:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30077
2021-11-08 11:24:28,536 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13197:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30080:30081:participant;127.0.0.1:30079
2021-11-08 11:24:28,537 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13197:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:28,537 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:28,537 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13197:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:24:28,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:28,538 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13197:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:28,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:24:28,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:28,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:28,539 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:28,540 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:28,540 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:28,546 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 6 ms
2021-11-08 11:24:28,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:28,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:28,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:28,550 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:28,551 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:28,551 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:28,781 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:28,783 [myid:] - INFO  [nioEventLoopGroup-22-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13217
2021-11-08 11:24:28,783 [myid:] - INFO  [nioEventLoopGroup-22-2:StatCommand@52] - Stat command output
2021-11-08 11:24:28,791 [myid:] - INFO  [main:QuorumRestartTest@90] - ***** Restart 3 succeeded
2021-11-08 11:24:28,791 [myid:] - INFO  [main:QuorumRestartTest@79] - ***** restarting: 2
2021-11-08 11:24:28,791 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2
2021-11-08 11:24:28,792 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:24:28,792 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:24:28,792 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:28,792 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30077:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:28,792 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:28,793 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:28,793 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:28,793 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:24:28,793 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:24:28,793 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:24:28,793 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:24:28,794 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:28,794 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:24:28,794 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:28,794 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:28,794 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:24:28,794 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:24:28,795 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:24:28,795 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:24:28,796 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:28,796 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:28,796 [myid:] - ERROR [LearnerHandler-/127.0.0.1:13197:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:28,796 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:28,796 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30077). Was connected for 260ms. Sync state: true
2021-11-08 11:24:28,796 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13197:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:13197 ********
2021-11-08 11:24:28,796 [myid:] - ERROR [LearnerHandler-/127.0.0.1:12953:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:28,796 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30076
2021-11-08 11:24:28,796 [myid:] - WARN  [LearnerHandler-/127.0.0.1:12953:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:12953 ********
2021-11-08 11:24:28,797 [myid:] - WARN  [LearnerHandler-/127.0.0.1:12953:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:28,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30077). Was connected for 3855ms. Sync state: true
2021-11-08 11:24:28,796 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13197:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:28,796 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:28,798 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:24:28,798 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:24:28,798 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:28,798 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:28,798 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:28,798 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:28,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:28,800 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:28,800 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:28,798 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:28,805 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:28,805 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2
2021-11-08 11:24:28,806 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2 to exit thread
2021-11-08 11:24:28,806 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:28,805 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:28,805 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:28,805 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:28,804 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:28,806 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:28,806 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:28,806 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:28,806 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:28,805 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:28,807 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:28,806 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:28,807 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:28,807 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:28,807 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:28,807 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:28,807 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:28,807 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:28,807 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:28,807 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:28,807 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:28,808 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:28,807 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:28,808 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:28,809 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:28,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:28,809 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:28,809 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:28,807 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:28,807 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:28,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x100000000
2021-11-08 11:24:28,808 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:28,807 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:28,807 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:28,810 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:28,810 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:28,810 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:28,810 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:24:28,810 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,811 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,809 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:28,814 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,815 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,816 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:28,816 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2
2021-11-08 11:24:29,017 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 207 MS
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:29,018 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2
2021-11-08 11:24:29,020 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 212 MS
2021-11-08 11:24:29,021 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:24:29,021 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test3440211212928646715.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:29,023 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 2 ms
2021-11-08 11:24:29,033 [myid:] - WARN  [Thread-10:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:29,033 [myid:] - WARN  [Thread-11:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:29,033 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:29,033 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:29,033 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:29,033 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:29,033 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:29,033 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:29,034 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:29,034 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:29,316 [myid:] - WARN  [Thread-13:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:29,543 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30080:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30080
2021-11-08 11:24:29,562 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13228:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30074:30075:participant;127.0.0.1:30073
2021-11-08 11:24:29,586 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:29,587 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:29,588 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13228:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:29,588 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13228:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:24:29,589 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13228:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:29,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:29,589 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:24:29,590 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:29,590 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:29,593 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:24:29,595 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:29,596 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:29,596 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:29,599 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:24:29,603 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:29,603 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:29,603 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:29,604 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:29,612 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 3]]; starting up and setting last processed zxid: 0x200000000
2021-11-08 11:24:29,612 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:24:29,612 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:29,612 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:29,612 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:24:29,613 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:24:29,631 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:3) started, reconfigEnabled=false
2021-11-08 11:24:29,645 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:24:29,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:29,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:29,698 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:24:31,179 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30076
2021-11-08 11:24:31,179 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:31,179 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:31,179 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:31,194 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:31,209 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:31,535 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:31,535 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:31,609 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:31,610 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:31,610 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@74ea2410 secure: false on addr /127.0.0.1:30076
2021-11-08 11:24:31,610 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:31,610 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:31,610 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:31,610 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:31,610 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:31,611 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:31,611 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2\snapshot.0
2021-11-08 11:24:31,611 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:31,612 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:31,612 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30076
2021-11-08 11:24:31,613 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30076
2021-11-08 11:24:31,613 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:31,614 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:31,614 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:31,615 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30078
2021-11-08 11:24:31,615 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:31,615 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:24:31,616 [myid:] - WARN  [nioEventLoopGroup-25-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:31,617 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,617 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13298
2021-11-08 11:24:31,617 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13299
2021-11-08 11:24:31,617 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:24:31,618 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,618 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,619 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13300
2021-11-08 11:24:31,619 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,619 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,619 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,621 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,621 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,621 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,621 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:31,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 7 MS
2021-11-08 11:24:31,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:31,623 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30080:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30080
2021-11-08 11:24:31,624 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13305:LearnerHandler@506] - Follower sid: 2 : info : 127.0.0.1:30077:30078:participant;127.0.0.1:30076
2021-11-08 11:24:31,631 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13305:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:31,631 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:31,631 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13305:LearnerHandler@801] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x0
2021-11-08 11:24:31,632 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13305:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:31,632 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:31,632 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:24:31,632 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:31,632 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:31,634 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:31,634 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:31,634 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7575682856342076329.junit.dir\version-2\snapshot.200000000
2021-11-08 11:24:31,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 2 ms
2021-11-08 11:24:31,640 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:31,640 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:31,640 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:31,640 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:31,641 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:31,641 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:31,867 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:31,869 [myid:] - INFO  [nioEventLoopGroup-25-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13307
2021-11-08 11:24:31,869 [myid:] - INFO  [nioEventLoopGroup-25-2:StatCommand@52] - Stat command output
2021-11-08 11:24:31,870 [myid:] - INFO  [main:QuorumRestartTest@90] - ***** Restart 2 succeeded
2021-11-08 11:24:31,870 [myid:] - INFO  [main:QuorumRestartTest@79] - ***** restarting: 1
2021-11-08 11:24:31,870 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1
2021-11-08 11:24:31,870 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:31,871 [myid:] - ERROR [LearnerHandler-/127.0.0.1:13228:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:31,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13228:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:31,871 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:31,871 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:31,871 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:31,871 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30080). Was connected for 2311ms. Sync state: true
2021-11-08 11:24:31,871 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13228:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:13228 ********
2021-11-08 11:24:31,872 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:31,871 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:31,872 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:31,872 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:31,872 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:31,872 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:31,872 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:31,872 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:31,873 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30073
2021-11-08 11:24:31,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:31,873 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:31,873 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:31,876 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:31,876 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:31,876 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:31,876 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:31,876 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1
2021-11-08 11:24:31,876 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:31,879 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1 to exit thread
2021-11-08 11:24:31,879 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:31,878 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:31,877 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:31,879 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:31,879 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:32,121 [myid:] - WARN  [Thread-17:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:32,121 [myid:] - WARN  [Thread-18:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:32,121 [myid:] - WARN  [Thread-16:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:32,122 [myid:] - WARN  [Thread-19:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:32,122 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:32,122 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:32,123 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:32,122 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:32,122 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:32,122 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:32,123 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:32,123 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:33,902 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30073
2021-11-08 11:24:33,902 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:33,902 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:33,902 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:34,271 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:34,272 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:34,272 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@7ef82753 secure: false on addr /127.0.0.1:30073
2021-11-08 11:24:34,272 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:34,272 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:34,272 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:34,272 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:34,273 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:34,273 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:34,273 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:34,273 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:34,274 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x100000000, digest is 1371985504
2021-11-08 11:24:34,274 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30073
2021-11-08 11:24:34,276 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30073
2021-11-08 11:24:34,276 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:34,277 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:34,277 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:34,280 [myid:] - WARN  [nioEventLoopGroup-28-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:34,280 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1066] - 1 is accepting connections now, my election bind port: /127.0.0.1:30075
2021-11-08 11:24:34,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:34,281 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x100000000
2021-11-08 11:24:34,281 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,282 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13416
2021-11-08 11:24:34,282 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2021-11-08 11:24:34,283 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:24:34,282 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30081:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13418
2021-11-08 11:24:34,284 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13419
2021-11-08 11:24:34,285 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13420
2021-11-08 11:24:34,286 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,286 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,290 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,290 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,291 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:34,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:34,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:34,292 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2
2021-11-08 11:24:34,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 13 MS
2021-11-08 11:24:34,294 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:34,297 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30080:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30080
2021-11-08 11:24:34,302 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13425:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30074:30075:participant;127.0.0.1:30073
2021-11-08 11:24:34,303 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13425:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:34,303 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13425:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x100000000
2021-11-08 11:24:34,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:34,303 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13425:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x100000000, zxid of leader is 0x200000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:34,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:34,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:24:34,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:34,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:34,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:34,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:34,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test4353870114001586468.junit.dir\version-2\snapshot.200000000
2021-11-08 11:24:34,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 9 ms
2021-11-08 11:24:34,320 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:34,320 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:34,320 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:34,320 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:34,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:34,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:34,531 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:34,538 [myid:] - INFO  [nioEventLoopGroup-28-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:13427
2021-11-08 11:24:34,538 [myid:] - INFO  [nioEventLoopGroup-28-2:StatCommand@52] - Stat command output
2021-11-08 11:24:34,539 [myid:] - INFO  [main:QuorumRestartTest@90] - ***** Restart 1 succeeded
2021-11-08 11:24:34,546 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1
2021-11-08 11:24:34,546 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:34,546 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:34,546 [myid:] - ERROR [LearnerHandler-/127.0.0.1:13425:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:34,546 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13425:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:34,546 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:34,546 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:34,547 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30080). Was connected for 246ms. Sync state: true
2021-11-08 11:24:34,547 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:34,546 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13425:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:13425 ********
2021-11-08 11:24:34,548 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:34,549 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:34,549 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:34,549 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:34,549 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:34,549 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30073
2021-11-08 11:24:34,549 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:34,550 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:34,550 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:34,551 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:34,552 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:34,552 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:34,553 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:34,553 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:34,555 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:34,554 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:34,554 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:34,555 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:34,555 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:34,554 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:34,554 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1
2021-11-08 11:24:34,554 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:34,554 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:34,557 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:34,556 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) with id 1 to exit thread
2021-11-08 11:24:34,559 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2
2021-11-08 11:24:34,559 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:34,556 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:34,559 [myid:] - ERROR [LearnerHandler-/127.0.0.1:13305:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:34,559 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13305:LearnerHandler@1155] - Synchronously closing socket to learner 2.
2021-11-08 11:24:34,559 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:34,559 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:34,559 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:34,559 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13305:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:13305 ********
2021-11-08 11:24:34,559 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:34,559 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:34,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30080). Was connected for 2936ms. Sync state: true
2021-11-08 11:24:34,560 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:34,560 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:34,560 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:34,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:34,561 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:34,561 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:34,561 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:34,561 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:34,561 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:34,561 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:34,562 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30076
2021-11-08 11:24:34,562 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:34,563 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:34,563 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:34,564 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:34,564 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2
2021-11-08 11:24:34,565 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) with id 2 to exit thread
2021-11-08 11:24:34,565 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3
2021-11-08 11:24:34,565 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:24:34,566 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:24:34,566 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:34,566 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30080:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:34,567 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:34,568 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:34,568 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:34,568 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:24:34,568 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:24:34,568 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:24:34,568 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:24:34,568 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:24:34,568 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:34,569 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:24:34,569 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:34,569 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:24:34,569 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:34,569 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:24:34,570 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30079
2021-11-08 11:24:34,570 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:34,570 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:24:34,571 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3
2021-11-08 11:24:34,571 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:24:34,571 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:34,571 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:34,571 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:34,571 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30079)(secure=disabled) with id 3 to exit thread
2021-11-08 11:24:34,572 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30073
2021-11-08 11:24:34,621 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:34,621 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:34,793 [myid:] - WARN  [Thread-21:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:34,794 [myid:] - WARN  [Thread-24:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:34,794 [myid:] - WARN  [Thread-23:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:34,794 [myid:] - WARN  [Thread-22:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:35,691 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:24:36,605 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30073 is no longer accepting client connections
2021-11-08 11:24:36,605 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30076
2021-11-08 11:24:37,310 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:37,316 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:37,314 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:37,317 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:37,317 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:37,320 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:38,645 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30076 is no longer accepting client connections
2021-11-08 11:24:38,645 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30079
2021-11-08 11:24:40,685 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30079 is no longer accepting client connections
2021-11-08 11:24:40,685 [myid:] - INFO  [main:ZKTestCase@82] - FINISHED Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRollingRestartBackwards() throws java.lang.Exception]
2021-11-08 11:24:40,691 [myid:] - INFO  [main:ZKTestCase@77] - STARTING Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRollingRestart() throws java.lang.Exception]
2021-11-08 11:24:40,691 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc6AAtVbmljYXN0UmVmMgAADzE2OS4yNTQuMTU2LjIzMQAAMN3Bu3I6PKBCNtMBQ7QAAAF8/ZMJ2YALAHg=
2021-11-08 11:24:40,696 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30082 from range 30072 - 32764.
2021-11-08 11:24:40,696 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30083 from range 30072 - 32764.
2021-11-08 11:24:40,697 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30084 from range 30072 - 32764.
2021-11-08 11:24:40,698 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30085 from range 30072 - 32764.
2021-11-08 11:24:40,699 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30086 from range 30072 - 32764.
2021-11-08 11:24:40,699 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30087 from range 30072 - 32764.
2021-11-08 11:24:40,700 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30088 from range 30072 - 32764.
2021-11-08 11:24:40,701 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30089 from range 30072 - 32764.
2021-11-08 11:24:40,701 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30090 from range 30072 - 32764.
2021-11-08 11:24:40,701 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30082
2021-11-08 11:24:40,702 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:40,702 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:40,702 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:41,062 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:41,062 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:41,062 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@7ce026d3 secure: false on addr /127.0.0.1:30082
2021-11-08 11:24:41,062 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:41,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,067 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,067 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:41,067 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:41,067 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:41,067 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30085
2021-11-08 11:24:41,068 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:41,068 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:41,068 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:41,425 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:41,425 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:41,425 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@7d9d0818 secure: false on addr /127.0.0.1:30085
2021-11-08 11:24:41,425 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:41,426 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,426 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,426 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:41,426 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:41,426 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:41,426 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30088
2021-11-08 11:24:41,426 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:41,427 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:41,427 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:41,795 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:41,795 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:41,795 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@7c37508a secure: false on addr /127.0.0.1:30088
2021-11-08 11:24:41,796 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:41,796 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,796 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:41,796 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:41,796 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:41,797 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:41,797 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 1
2021-11-08 11:24:41,797 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30082
2021-11-08 11:24:41,798 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 1
2021-11-08 11:24:41,798 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 1 to exit thread
2021-11-08 11:24:41,798 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 2
2021-11-08 11:24:41,798 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30085
2021-11-08 11:24:41,799 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 2
2021-11-08 11:24:41,799 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 2 to exit thread
2021-11-08 11:24:41,799 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 3
2021-11-08 11:24:41,799 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30088
2021-11-08 11:24:41,800 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 3
2021-11-08 11:24:41,800 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 3 to exit thread
2021-11-08 11:24:41,800 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:43,842 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30082 is no longer accepting client connections
2021-11-08 11:24:43,842 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:45,879 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30085 is no longer accepting client connections
2021-11-08 11:24:45,879 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:47,925 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30088 is no longer accepting client connections
2021-11-08 11:24:47,925 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30082
2021-11-08 11:24:47,925 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:47,925 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:47,925 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:48,313 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:48,313 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:48,313 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@23e84203 secure: false on addr /127.0.0.1:30082
2021-11-08 11:24:48,313 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:48,313 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:48,313 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:48,314 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:48,314 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:48,314 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:48,314 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:48,315 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2\snapshot.0
2021-11-08 11:24:48,315 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:48,315 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:48,322 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:48,325 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30082
2021-11-08 11:24:48,326 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30082
2021-11-08 11:24:48,327 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:48,327 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:48,327 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2021-11-08 11:24:48,327 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30085
2021-11-08 11:24:48,328 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:48,328 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:48,328 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:48,328 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:48,328 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1066] - 1 is accepting connections now, my election bind port: /127.0.0.1:30084
2021-11-08 11:24:48,328 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:24:48,329 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,533 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:24:48,704 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:48,704 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:48,704 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@2a693f59 secure: false on addr /127.0.0.1:30085
2021-11-08 11:24:48,704 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:48,705 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:48,705 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:48,705 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:48,705 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:48,705 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:48,706 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:48,706 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2\snapshot.0
2021-11-08 11:24:48,707 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:48,707 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:48,710 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:48,713 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30085
2021-11-08 11:24:48,715 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30085
2021-11-08 11:24:48,715 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:48,715 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:48,715 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2021-11-08 11:24:48,716 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30088
2021-11-08 11:24:48,716 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:48,716 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:48,716 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30087
2021-11-08 11:24:48,716 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:48,716 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:48,716 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:24:48,717 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,718 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13954
2021-11-08 11:24:48,719 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,719 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,720 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,720 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,845 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13908
2021-11-08 11:24:48,845 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:24:48,845 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:48,845 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:48,845 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:48,846 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:48,845 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:48,846 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:48,846 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:48,846 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:48,847 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13959
2021-11-08 11:24:48,847 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:48,848 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:49,049 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 722 MS
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:49,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 334 MS
2021-11-08 11:24:49,051 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:24:49,051 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2\snapshot.0
2021-11-08 11:24:49,051 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30086
2021-11-08 11:24:49,053 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 1 ms
2021-11-08 11:24:49,056 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13975:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2021-11-08 11:24:49,060 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:49,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:49,063 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13975:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:49,063 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13975:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2021-11-08 11:24:49,063 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13975:LearnerHandler@846] - Sending DIFF zxid=0x0 for peer sid: 1
2021-11-08 11:24:49,064 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@562] - Getting a diff from the leader 0x0
2021-11-08 11:24:49,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2021-11-08 11:24:49,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:49,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:49,067 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:24:49,069 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:49,069 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:49,069 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:49,069 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:49,070 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 2]]; starting up and setting last processed zxid: 0x100000000
2021-11-08 11:24:49,070 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:24:49,070 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:49,070 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:49,070 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:49,071 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:49,070 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@312aa7c secure: false on addr /127.0.0.1:30088
2021-11-08 11:24:49,071 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:24:49,071 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:49,071 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:24:49,071 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:2) started, reconfigEnabled=false
2021-11-08 11:24:49,071 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:49,071 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:24:49,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:49,071 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:49,072 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:49,072 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:49,072 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:49,072 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:49,072 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:24:49,073 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2\snapshot.0
2021-11-08 11:24:49,073 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:49,073 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:49,076 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:24:49,079 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30088
2021-11-08 11:24:49,080 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30088
2021-11-08 11:24:49,080 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:49,080 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:49,081 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2021-11-08 11:24:49,081 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:30082,127.0.0.1:30085,127.0.0.1:30088
2021-11-08 11:24:49,081 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:49,081 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30090
2021-11-08 11:24:49,082 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:49,082 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x0
2021-11-08 11:24:49,083 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14017
2021-11-08 11:24:49,083 [myid:] - INFO  [nioEventLoopGroup-40-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:14016
2021-11-08 11:24:49,083 [myid:] - INFO  [nioEventLoopGroup-40-1:StatCommand@52] - Stat command output
2021-11-08 11:24:49,085 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30082 is accepting client connections
2021-11-08 11:24:49,085 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:49,086 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,086 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,086 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,086 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14019
2021-11-08 11:24:49,088 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,088 [myid:] - INFO  [nioEventLoopGroup-43-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:14018
2021-11-08 11:24:49,088 [myid:] - INFO  [nioEventLoopGroup-43-1:StatCommand@52] - Stat command output
2021-11-08 11:24:49,088 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,088 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,089 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30085 is accepting client connections
2021-11-08 11:24:49,089 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:49,089 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,089 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:49,089 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:49,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:49,090 [myid:] - WARN  [nioEventLoopGroup-46-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2
2021-11-08 11:24:49,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 9 MS
2021-11-08 11:24:49,092 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:49,092 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30086
2021-11-08 11:24:49,094 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14023:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30089:30090:participant;127.0.0.1:30088
2021-11-08 11:24:49,097 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14023:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:49,097 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:49,098 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14023:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:24:49,098 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:49,098 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14023:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:49,098 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:24:49,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:49,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:49,100 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:49,100 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:49,100 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:49,103 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:24:49,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:49,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:49,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:49,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:49,108 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:49,108 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:49,222 [myid:] - WARN  [Thread-27:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:49,222 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13955
2021-11-08 11:24:49,222 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:24:49,222 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,223 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,223 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,225 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:49,225 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:49,225 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:49,228 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14081
2021-11-08 11:24:49,228 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,228 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:49,230 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,231 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,232 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,347 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:49,347 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2021-11-08 11:24:49,347 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:13907
2021-11-08 11:24:49,348 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,348 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:49,348 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,348 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:49,348 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,349 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:49,348 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,348 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14092
2021-11-08 11:24:49,350 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:49,350 [myid:] - INFO  [nioEventLoopGroup-46-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:14091
2021-11-08 11:24:49,351 [myid:] - INFO  [nioEventLoopGroup-46-2:StatCommand@52] - Stat command output
2021-11-08 11:24:49,351 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,351 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,351 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30088 is accepting client connections
2021-11-08 11:24:49,351 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2021-11-08 11:24:49,351 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:49,352 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:49,353 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:14023",name5="id:3"
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:13975",name5="id:1"
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:24:49,354 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2021-11-08 11:24:49,356 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:49,357 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2021-11-08 11:24:49,358 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:24:49,359 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2021-11-08 11:24:49,359 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:24:49,359 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2021-11-08 11:24:49,359 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:24:49,359 [myid:] - INFO  [main:QuorumRestartTest@56] - ***** restarting: 1
2021-11-08 11:24:49,359 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1
2021-11-08 11:24:49,359 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:49,359 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:49,360 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:49,360 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:49,360 [myid:] - ERROR [LearnerHandler-/127.0.0.1:13975:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:49,360 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 308ms. Sync state: true
2021-11-08 11:24:49,360 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:49,360 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:49,360 [myid:] - INFO  [LearnerHandler-/127.0.0.1:13975:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:49,360 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:49,360 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:49,360 [myid:] - WARN  [LearnerHandler-/127.0.0.1:13975:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:13975 ********
2021-11-08 11:24:49,361 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:49,361 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:49,361 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:49,361 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:49,361 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30082
2021-11-08 11:24:49,361 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:49,362 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:49,362 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:49,362 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,363 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,364 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:49,364 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,364 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:49,364 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,364 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1
2021-11-08 11:24:49,365 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1 to exit thread
2021-11-08 11:24:49,365 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:49,365 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,365 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:49,364 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,364 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:49,365 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:49,365 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:49,591 [myid:] - WARN  [Thread-31:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:49,591 [myid:] - WARN  [Thread-30:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:49,744 [myid:] - WARN  [Thread-33:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:49,745 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,745 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:49,746 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:49,745 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,746 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:49,745 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:49,747 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:49,748 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:49,853 [myid:] - WARN  [Thread-34:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:51,392 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30082
2021-11-08 11:24:51,392 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:51,392 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:51,392 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:51,765 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:51,765 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:51,765 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@7a5ceedd secure: false on addr /127.0.0.1:30082
2021-11-08 11:24:51,765 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:51,766 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:51,766 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:51,766 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:51,766 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:51,766 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:51,766 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2\snapshot.0
2021-11-08 11:24:51,767 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:51,767 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:51,767 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30082
2021-11-08 11:24:51,773 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30082
2021-11-08 11:24:51,773 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:51,774 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:51,775 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:51,776 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1066] - 1 is accepting connections now, my election bind port: /127.0.0.1:30084
2021-11-08 11:24:51,776 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:51,776 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:24:51,777 [myid:] - WARN  [nioEventLoopGroup-49-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:51,778 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,778 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14439
2021-11-08 11:24:51,778 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:24:51,778 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14440
2021-11-08 11:24:51,778 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2021-11-08 11:24:51,778 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14441
2021-11-08 11:24:51,779 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14442
2021-11-08 11:24:51,779 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,779 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,781 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,781 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,781 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,781 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:51,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2021-11-08 11:24:51,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:51,783 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30086
2021-11-08 11:24:51,784 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14445:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2021-11-08 11:24:51,784 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14445:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:51,784 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:51,784 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14445:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:24:51,784 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14445:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:51,784 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:51,785 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:24:51,785 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:51,785 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:51,785 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:51,786 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:51,786 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:51,792 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 7 ms
2021-11-08 11:24:51,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:51,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:51,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:51,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:51,796 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:51,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:52,028 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:52,030 [myid:] - INFO  [nioEventLoopGroup-49-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:14475
2021-11-08 11:24:52,030 [myid:] - INFO  [nioEventLoopGroup-49-2:StatCommand@52] - Stat command output
2021-11-08 11:24:52,031 [myid:] - INFO  [main:QuorumRestartTest@67] - ***** Restart 1 succeeded
2021-11-08 11:24:52,031 [myid:] - INFO  [main:QuorumRestartTest@56] - ***** restarting: 2
2021-11-08 11:24:52,031 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2
2021-11-08 11:24:52,031 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:24:52,031 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:24:52,031 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:52,031 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30086:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:52,032 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:52,032 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:52,033 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:52,033 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:24:52,033 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:24:52,033 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:24:52,033 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:24:52,033 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:52,033 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:52,033 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:24:52,033 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:24:52,034 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:52,034 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:24:52,034 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:24:52,034 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:52,035 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:52,035 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:24:52,035 [myid:] - ERROR [LearnerHandler-/127.0.0.1:14445:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:52,035 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14445:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:14445 ********
2021-11-08 11:24:52,035 [myid:] - ERROR [LearnerHandler-/127.0.0.1:14023:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:52,035 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14023:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:14023 ********
2021-11-08 11:24:52,035 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:52,035 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 251ms. Sync state: true
2021-11-08 11:24:52,035 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14023:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:52,035 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14445:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:52,035 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30085
2021-11-08 11:24:52,036 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 2942ms. Sync state: true
2021-11-08 11:24:52,036 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:52,036 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:52,035 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:52,036 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:52,036 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:52,037 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:52,037 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:24:52,038 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:24:52,038 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:52,038 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:52,038 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:52,037 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:52,038 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:52,037 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:52,037 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:52,038 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:52,038 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:52,038 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:52,039 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2
2021-11-08 11:24:52,039 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:52,039 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:52,038 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:52,038 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:52,039 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:52,038 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:52,039 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2 to exit thread
2021-11-08 11:24:52,040 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:52,039 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:52,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:52,039 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:52,040 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:52,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:52,040 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:52,039 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:52,039 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:52,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:52,040 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:52,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:52,040 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:52,041 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:52,041 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x100000000
2021-11-08 11:24:52,041 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:52,041 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:52,041 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:52,041 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x100000000
2021-11-08 11:24:52,041 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,041 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,041 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,041 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,042 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,042 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:52,246 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 208 MS
2021-11-08 11:24:52,248 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:52,247 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 206 MS
2021-11-08 11:24:52,254 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:24:52,254 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:52,254 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30089:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30089
2021-11-08 11:24:52,255 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 1 ms
2021-11-08 11:24:52,259 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14485:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2021-11-08 11:24:52,263 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:52,267 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14485:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:52,267 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14485:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x100000000
2021-11-08 11:24:52,267 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:52,267 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14485:LearnerHandler@846] - Sending DIFF zxid=0x100000000 for peer sid: 1
2021-11-08 11:24:52,271 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:24:52,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@562] - Getting a diff from the leader 0x100000000
2021-11-08 11:24:52,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2021-11-08 11:24:52,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:52,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:52,276 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:52,277 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:52,277 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:52,277 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:52,278 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 3]]; starting up and setting last processed zxid: 0x200000000
2021-11-08 11:24:52,278 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:24:52,278 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:52,278 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:52,278 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:24:52,279 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:24:52,279 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:24:52,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:52,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:52,288 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:3) started, reconfigEnabled=false
2021-11-08 11:24:52,293 [myid:] - WARN  [Thread-36:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:52,293 [myid:] - WARN  [Thread-35:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:52,294 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:52,293 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:52,293 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:52,294 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:52,294 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:52,294 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:52,294 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:52,294 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:52,355 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:52,355 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:52,556 [myid:] - WARN  [Thread-38:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:53,705 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:24:54,075 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30085
2021-11-08 11:24:54,075 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:54,075 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:54,075 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:54,091 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:54,107 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:54,485 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:54,486 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:54,486 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@2de56eb2 secure: false on addr /127.0.0.1:30085
2021-11-08 11:24:54,486 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:54,486 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:54,486 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:54,486 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:54,487 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:54,487 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:54,487 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2\snapshot.0
2021-11-08 11:24:54,487 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:54,488 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:24:54,488 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30085
2021-11-08 11:24:54,490 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30085
2021-11-08 11:24:54,490 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:54,490 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:54,490 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:54,493 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:54,497 [myid:] - WARN  [nioEventLoopGroup-52-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:54,498 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:24:54,498 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30087
2021-11-08 11:24:54,498 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,501 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14764
2021-11-08 11:24:54,502 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:24:54,502 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14765
2021-11-08 11:24:54,505 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14766
2021-11-08 11:24:54,505 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,505 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,506 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,507 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,507 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,509 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,511 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,512 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,513 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:54,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2
2021-11-08 11:24:54,514 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 17 MS
2021-11-08 11:24:54,515 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:54,518 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30089:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30089
2021-11-08 11:24:54,521 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14773:LearnerHandler@506] - Follower sid: 2 : info : 127.0.0.1:30086:30087:participant;127.0.0.1:30085
2021-11-08 11:24:54,537 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14773:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:54,537 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14773:LearnerHandler@801] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x0
2021-11-08 11:24:54,538 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14773:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:54,538 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:54,538 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:54,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:24:54,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:54,539 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:54,546 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:54,546 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:54,546 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2\snapshot.200000000
2021-11-08 11:24:54,549 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:24:54,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:54,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:54,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:54,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:54,554 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:54,554 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:54,757 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:54,773 [myid:] - INFO  [nioEventLoopGroup-52-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:14825
2021-11-08 11:24:54,773 [myid:] - INFO  [nioEventLoopGroup-52-2:StatCommand@52] - Stat command output
2021-11-08 11:24:54,774 [myid:] - INFO  [main:QuorumRestartTest@67] - ***** Restart 2 succeeded
2021-11-08 11:24:54,774 [myid:] - INFO  [main:QuorumRestartTest@56] - ***** restarting: 3
2021-11-08 11:24:54,774 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3
2021-11-08 11:24:54,774 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:24:54,775 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:24:54,775 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:54,775 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:54,775 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30089:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:54,776 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:54,776 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:54,776 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:24:54,776 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:24:54,776 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:24:54,776 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:24:54,776 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:54,776 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:24:54,777 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:24:54,778 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:54,778 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:24:54,778 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:54,780 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:24:54,781 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:54,781 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:54,781 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 2.
2021-11-08 11:24:54,781 [myid:] - ERROR [LearnerHandler-/127.0.0.1:14485:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:54,781 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30088
2021-11-08 11:24:54,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30089). Was connected for 2526ms. Sync state: true
2021-11-08 11:24:54,781 [myid:] - ERROR [LearnerHandler-/127.0.0.1:14773:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:54,782 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14773:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:14773 ********
2021-11-08 11:24:54,782 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14773:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:54,781 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:54,781 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14485:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:14485 ********
2021-11-08 11:24:54,821 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14485:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:54,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30089). Was connected for 301ms. Sync state: true
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:54,823 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:54,822 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:54,823 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:54,823 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:54,822 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:54,823 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:54,824 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:54,824 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:54,824 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:54,825 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:54,824 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3
2021-11-08 11:24:54,825 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3 to exit thread
2021-11-08 11:24:54,825 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:54,823 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:54,825 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:54,823 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:54,825 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:54,826 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:54,826 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x200000000
2021-11-08 11:24:54,824 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:54,826 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:54,826 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:54,827 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:54,826 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:54,827 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,828 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:54,828 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:54,828 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,828 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:54,828 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:54,828 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:54,828 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,829 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:54,829 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:54,829 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:54,829 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x100000000
2021-11-08 11:24:54,829 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,829 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:54,829 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:54,829 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:55,022 [myid:] - WARN  [Thread-43:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:55,022 [myid:] - WARN  [Thread-44:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:55,022 [myid:] - WARN  [Thread-42:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:55,022 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:55,022 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:55,022 [myid:] - WARN  [Thread-41:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:55,022 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:55,022 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:55,022 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:55,022 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:55,024 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:55,024 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:55,043 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:24:55,048 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,048 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14848
2021-11-08 11:24:55,048 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:24:55,049 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:14849
2021-11-08 11:24:55,050 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:24:55,076 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,076 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,084 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,084 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:55,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 462 MS
2021-11-08 11:24:55,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:55,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:55,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2
2021-11-08 11:24:55,320 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 493 MS
2021-11-08 11:24:55,320 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:24:55,320 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test2530937015936761254.junit.dir\version-2\snapshot.200000000
2021-11-08 11:24:55,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 1 ms
2021-11-08 11:24:55,580 [myid:] - WARN  [Thread-46:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:55,580 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:55,580 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:24:55,580 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:55,581 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:55,588 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:24:55,588 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:24:55,588 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:55,588 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:24:55,626 [myid:] - WARN  [Thread-47:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:55,765 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:24:55,826 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30086
2021-11-08 11:24:55,858 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14869:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2021-11-08 11:24:55,868 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:55,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:55,873 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14869:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:55,874 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14869:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x100000000
2021-11-08 11:24:55,874 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14869:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x100000000, zxid of leader is 0x300000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:55,874 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:55,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:24:55,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:55,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:55,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:55,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:55,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test8847959907590538.junit.dir\version-2\snapshot.200000000
2021-11-08 11:24:55,878 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:24:55,881 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 4 ms
2021-11-08 11:24:55,885 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:55,885 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:55,885 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:55,885 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:55,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 2]]; starting up and setting last processed zxid: 0x300000000
2021-11-08 11:24:55,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:24:55,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:55,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:55,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:24:55,891 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:24:55,891 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:24:55,891 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:55,891 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:55,899 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:2) started, reconfigEnabled=false
2021-11-08 11:24:56,930 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@401] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:56,964 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30088
2021-11-08 11:24:56,964 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:24:56,964 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:24:56,964 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:24:56,964 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:57,355 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:24:57,355 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:24:57,355 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@480d3575 secure: false on addr /127.0.0.1:30088
2021-11-08 11:24:57,356 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:24:57,357 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:57,357 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:57,358 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:24:57,358 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:24:57,358 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:24:57,358 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2\snapshot.100000000
2021-11-08 11:24:57,361 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:24:57,361 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 4 ms, highest zxid is 0x100000000, digest is 1371985504
2021-11-08 11:24:57,362 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30088
2021-11-08 11:24:57,365 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30088
2021-11-08 11:24:57,365 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:24:57,365 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:24:57,365 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:57,390 [myid:] - WARN  [nioEventLoopGroup-55-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:24:57,391 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:57,391 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x100000000
2021-11-08 11:24:57,392 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,392 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30090
2021-11-08 11:24:57,394 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:1394
2021-11-08 11:24:57,404 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:1396
2021-11-08 11:24:57,404 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,411 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,411 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,411 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,412 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,412 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:24:57,412 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 22 MS
2021-11-08 11:24:57,413 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:24:57,413 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,421 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,421 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,421 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30086
2021-11-08 11:24:57,421 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,422 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,423 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,424 [myid:] - INFO  [LearnerHandler-/127.0.0.1:1412:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30089:30090:participant;127.0.0.1:30088
2021-11-08 11:24:57,432 [myid:] - INFO  [LearnerHandler-/127.0.0.1:1412:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:24:57,432 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:24:57,433 [myid:] - INFO  [LearnerHandler-/127.0.0.1:1412:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000000 peerLastZxid=0x100000000
2021-11-08 11:24:57,433 [myid:] - INFO  [LearnerHandler-/127.0.0.1:1412:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x100000000, zxid of leader is 0x300000000, send zxid of db as 0x300000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:24:57,433 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:24:57,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x300000000
2021-11-08 11:24:57,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:57,434 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:24:57,436 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:24:57,437 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:24:57,437 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x300000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7487544933498423086.junit.dir\version-2\snapshot.300000000
2021-11-08 11:24:57,440 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:24:57,443 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:24:57,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:24:57,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:24:57,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:24:57,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:24:57,447 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:24:57,520 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:24:57,522 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:57,642 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:24:57,644 [myid:] - INFO  [nioEventLoopGroup-55-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:1478
2021-11-08 11:24:57,644 [myid:] - INFO  [nioEventLoopGroup-55-2:StatCommand@52] - Stat command output
2021-11-08 11:24:57,645 [myid:] - INFO  [main:QuorumRestartTest@67] - ***** Restart 3 succeeded
2021-11-08 11:24:57,646 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1
2021-11-08 11:24:57,646 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:24:57,646 [myid:] - ERROR [LearnerHandler-/127.0.0.1:14869:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:57,646 [myid:] - INFO  [LearnerHandler-/127.0.0.1:14869:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:24:57,646 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:57,646 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:57,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 1790ms. Sync state: true
2021-11-08 11:24:57,646 [myid:] - WARN  [LearnerHandler-/127.0.0.1:14869:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:14869 ********
2021-11-08 11:24:57,647 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:57,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:57,647 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:57,647 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:57,647 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:57,647 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:57,647 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:57,648 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:57,648 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30082
2021-11-08 11:24:57,648 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:57,648 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:57,648 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:57,650 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:57,651 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:57,653 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:24:57,653 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:57,653 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:24:57,650 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:57,653 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1
2021-11-08 11:24:57,651 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:57,654 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) with id 1 to exit thread
2021-11-08 11:24:57,655 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:24:57,655 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2
2021-11-08 11:24:57,655 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:24:57,655 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:24:57,655 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:24:57,656 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:24:57,656 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:57,655 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30086:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:57,656 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:24:57,656 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:57,658 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:57,658 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:57,659 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:24:57,658 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:24:57,658 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:57,659 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:24:57,660 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:24:57,660 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:24:57,660 [myid:] - ERROR [LearnerHandler-/127.0.0.1:1412:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:24:57,660 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30085
2021-11-08 11:24:57,660 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 238ms. Sync state: true
2021-11-08 11:24:57,660 [myid:] - WARN  [LearnerHandler-/127.0.0.1:1412:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:1412 ********
2021-11-08 11:24:57,660 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:24:57,660 [myid:] - WARN  [LearnerHandler-/127.0.0.1:1412:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:24:57,661 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:24:57,661 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:24:57,662 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:24:57,662 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:24:57,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:24:57,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:24:57,662 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:24:57,662 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:24:57,662 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:57,663 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:24:57,663 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:24:57,663 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:57,664 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:24:57,663 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:24:57,663 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:24:57,664 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:57,664 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:57,664 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:57,664 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:24:57,664 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:57,665 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:24:57,665 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:24:57,665 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:24:57,665 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2
2021-11-08 11:24:57,665 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:24:57,665 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) with id 2 to exit thread
2021-11-08 11:24:57,665 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:24:57,665 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3
2021-11-08 11:24:57,666 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30088
2021-11-08 11:24:57,665 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:24:57,666 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x300000000
2021-11-08 11:24:57,667 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:24:57,667 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:24:57,669 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3
2021-11-08 11:24:57,669 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) with id 3 to exit thread
2021-11-08 11:24:57,669 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30082
2021-11-08 11:24:57,670 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:-1, n.round:0x4, n.peerEpoch:0x3, n.zxid:0xffffffffffffffff, message format version:0x2, n.config version:0x0
2021-11-08 11:24:57,670 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:24:57,691 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:24:57,913 [myid:] - WARN  [Thread-50:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:57,922 [myid:] - WARN  [Thread-52:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:24:57,922 [myid:] - WARN  [Thread-53:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:24:57,923 [myid:] - WARN  [Thread-51:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:24:59,700 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30082 is no longer accepting client connections
2021-11-08 11:24:59,701 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30085
2021-11-08 11:24:59,717 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-2:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:24:59,977 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-3:QuorumCnxManager@401] - Cannot open channel to 1 at election address /127.0.0.1:30084
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:00,422 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:00,423 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:00,423 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:00,428 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:00,668 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:01,999 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30085 is no longer accepting client connections
2021-11-08 11:25:01,999 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30088
2021-11-08 11:25:04,017 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30088 is no longer accepting client connections
2021-11-08 11:25:04,017 [myid:] - INFO  [main:ZKTestCase@82] - FINISHED Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRollingRestart() throws java.lang.Exception]
2021-11-08 11:25:04,019 [myid:] - INFO  [main:ZKTestCase@77] - STARTING Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRestartingLeaderMultipleTimes() throws java.lang.Exception]
2021-11-08 11:25:04,019 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc6AAtVbmljYXN0UmVmMgAADzE2OS4yNTQuMTU2LjIzMQAAMN2ze5Ah4/76MtMBQ7QAAAF8/ZMJ2YAUAHg=
2021-11-08 11:25:04,023 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30091 from range 30072 - 32764.
2021-11-08 11:25:04,024 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30092 from range 30072 - 32764.
2021-11-08 11:25:04,024 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30093 from range 30072 - 32764.
2021-11-08 11:25:04,029 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30094 from range 30072 - 32764.
2021-11-08 11:25:04,029 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30095 from range 30072 - 32764.
2021-11-08 11:25:04,030 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30096 from range 30072 - 32764.
2021-11-08 11:25:04,031 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30097 from range 30072 - 32764.
2021-11-08 11:25:04,031 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30098 from range 30072 - 32764.
2021-11-08 11:25:04,032 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30099 from range 30072 - 32764.
2021-11-08 11:25:04,032 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30091
2021-11-08 11:25:04,032 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:04,032 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:04,032 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:04,790 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:04,790 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:04,790 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@4d14b6c2 secure: false on addr /127.0.0.1:30091
2021-11-08 11:25:04,790 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:04,792 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:04,792 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:04,792 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:04,792 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:04,792 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:04,792 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30094
2021-11-08 11:25:04,793 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:04,793 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:04,793 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:05,372 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:05,373 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:05,373 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@97e93f1 secure: false on addr /127.0.0.1:30094
2021-11-08 11:25:05,373 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:05,373 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:05,374 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:05,374 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:05,374 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:05,374 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:05,374 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30097
2021-11-08 11:25:05,374 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:05,374 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:05,374 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:05,798 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:05,799 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:05,799 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@210ab13f secure: false on addr /127.0.0.1:30097
2021-11-08 11:25:05,799 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:05,799 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:05,799 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:05,800 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:05,800 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:05,800 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:05,800 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 1
2021-11-08 11:25:05,800 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30091
2021-11-08 11:25:05,801 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 1
2021-11-08 11:25:05,801 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 1 to exit thread
2021-11-08 11:25:05,801 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 2
2021-11-08 11:25:05,801 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30094
2021-11-08 11:25:05,802 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 2
2021-11-08 11:25:05,802 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 2 to exit thread
2021-11-08 11:25:05,802 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer with id 3
2021-11-08 11:25:05,803 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30097
2021-11-08 11:25:05,803 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer with id 3
2021-11-08 11:25:05,803 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer with id 3 to exit thread
2021-11-08 11:25:05,804 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30091
2021-11-08 11:25:08,101 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30091 is no longer accepting client connections
2021-11-08 11:25:08,101 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:10,132 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30094 is no longer accepting client connections
2021-11-08 11:25:10,132 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:12,155 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30097 is no longer accepting client connections
2021-11-08 11:25:12,155 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30091
2021-11-08 11:25:12,155 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:12,155 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:12,155 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:12,571 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:12,571 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:12,572 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@387a8303 secure: false on addr /127.0.0.1:30091
2021-11-08 11:25:12,572 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:12,572 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:12,572 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:12,572 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:12,572 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:12,572 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:12,573 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:25:12,573 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2\snapshot.0
2021-11-08 11:25:12,574 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:25:12,574 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:12,581 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:12,584 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30091
2021-11-08 11:25:12,585 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30091
2021-11-08 11:25:12,585 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:12,585 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:12,585 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 1
2021-11-08 11:25:12,585 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30094
2021-11-08 11:25:12,586 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:12,586 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:12,586 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:12,586 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:12,586 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1066] - 1 is accepting connections now, my election bind port: /127.0.0.1:30093
2021-11-08 11:25:12,586 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:25:12,587 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:12,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:25:13,018 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:13,018 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:13,018 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@4dc27487 secure: false on addr /127.0.0.1:30094
2021-11-08 11:25:13,019 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:13,019 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,019 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,019 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:13,019 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:13,019 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:13,020 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:25:13,020 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.0
2021-11-08 11:25:13,021 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:25:13,021 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:13,028 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:13,031 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30094
2021-11-08 11:25:13,032 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30094
2021-11-08 11:25:13,032 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:13,032 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:13,033 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 2
2021-11-08 11:25:13,033 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30097
2021-11-08 11:25:13,033 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:13,033 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30096
2021-11-08 11:25:13,033 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:13,034 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:13,034 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:13,034 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:25:13,034 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,035 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3893
2021-11-08 11:25:13,035 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,035 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,036 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,036 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,097 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3854
2021-11-08 11:25:13,097 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2021-11-08 11:25:13,097 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,097 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:25:13,097 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,097 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,097 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:25:13,097 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,098 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:25:13,098 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:25:13,098 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3896
2021-11-08 11:25:13,099 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,099 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 729 MS
2021-11-08 11:25:13,315 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2
2021-11-08 11:25:13,316 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:13,317 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 283 MS
2021-11-08 11:25:13,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:25:13,319 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.0
2021-11-08 11:25:13,320 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30095
2021-11-08 11:25:13,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 2 ms
2021-11-08 11:25:13,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3898:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2021-11-08 11:25:13,333 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:13,338 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3898:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:13,338 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:13,338 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3898:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2021-11-08 11:25:13,338 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3898:LearnerHandler@846] - Sending DIFF zxid=0x0 for peer sid: 1
2021-11-08 11:25:13,340 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@562] - Getting a diff from the leader 0x0
2021-11-08 11:25:13,340 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2021-11-08 11:25:13,341 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:13,341 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:13,344 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:25:13,347 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:13,347 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:13,347 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:13,347 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 2]]; starting up and setting last processed zxid: 0x100000000
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:25:13,348 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:25:13,349 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:13,349 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:13,365 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:2) started, reconfigEnabled=false
2021-11-08 11:25:13,431 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:13,431 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:13,431 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@2d0399f4 secure: false on addr /127.0.0.1:30097
2021-11-08 11:25:13,431 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:13,431 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,432 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,432 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:13,432 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:13,432 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:13,433 [myid:] - INFO  [main:FileTxnSnapLog@260] - Initialize file found, an empty database will not block voting participation
2021-11-08 11:25:13,433 [myid:] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.0
2021-11-08 11:25:13,434 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:25:13,434 [myid:] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:13,437 [myid:] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2021-11-08 11:25:13,440 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30097
2021-11-08 11:25:13,441 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30097
2021-11-08 11:25:13,442 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:13,442 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:13,442 [myid:] - INFO  [main:QuorumUtil@150] - Started QuorumPeer 3
2021-11-08 11:25:13,442 [myid:] - INFO  [main:QuorumUtil@153] - Checking ports 127.0.0.1:30091,127.0.0.1:30094,127.0.0.1:30097
2021-11-08 11:25:13,442 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30091
2021-11-08 11:25:13,443 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30099
2021-11-08 11:25:13,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:13,444 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x0
2021-11-08 11:25:13,444 [myid:] - INFO  [nioEventLoopGroup-67-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:3925
2021-11-08 11:25:13,444 [myid:] - INFO  [nioEventLoopGroup-67-1:StatCommand@52] - Stat command output
2021-11-08 11:25:13,445 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30091 is accepting client connections
2021-11-08 11:25:13,445 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:13,445 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,449 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3927
2021-11-08 11:25:13,449 [myid:] - INFO  [nioEventLoopGroup-70-1:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:3926
2021-11-08 11:25:13,449 [myid:] - INFO  [nioEventLoopGroup-70-1:StatCommand@52] - Stat command output
2021-11-08 11:25:13,454 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3928
2021-11-08 11:25:13,455 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,455 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30094 is accepting client connections
2021-11-08 11:25:13,455 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:13,455 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,456 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,459 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,459 [myid:] - WARN  [nioEventLoopGroup-73-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:25:13,459 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,460 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2
2021-11-08 11:25:13,460 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 16 MS
2021-11-08 11:25:13,461 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:13,464 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30095
2021-11-08 11:25:13,475 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3931:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30098:30099:participant;127.0.0.1:30097
2021-11-08 11:25:13,480 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3931:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:13,480 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3931:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:25:13,481 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:13,481 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3931:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:13,481 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:13,481 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:25:13,481 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,481 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:13,483 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:13,483 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:13,483 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.100000000
2021-11-08 11:25:13,487 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:13,492 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:13,492 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:13,492 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:13,492 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:13,493 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:13,493 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:13,548 [myid:] - WARN  [Thread-56:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:13,548 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3894
2021-11-08 11:25:13,548 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:25:13,548 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,548 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,549 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:25:13,549 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,549 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:25:13,549 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:25:13,550 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,550 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:25:13,554 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3933
2021-11-08 11:25:13,565 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,565 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,566 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,610 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3855
2021-11-08 11:25:13,610 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:3)
2021-11-08 11:25:13,610 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,610 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:25:13,610 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,610 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:25:13,610 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,611 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:25:13,611 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:3936
2021-11-08 11:25:13,611 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,611 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:25:13,613 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,613 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,614 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,710 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:13,711 [myid:] - INFO  [nioEventLoopGroup-73-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:3939
2021-11-08 11:25:13,711 [myid:] - INFO  [nioEventLoopGroup-73-2:StatCommand@52] - Stat command output
2021-11-08 11:25:13,712 [myid:] - INFO  [main:QuorumUtil@156] - 127.0.0.1:30097 is accepting client connections
2021-11-08 11:25:13,712 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2021-11-08 11:25:13,713 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:25:13,714 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=InMemoryDataTree
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:3898",name5="id:1"
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:3931",name5="id:3"
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:25:13,715 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Leader
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2021-11-08 11:25:13,717 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2021-11-08 11:25:13,718 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2021-11-08 11:25:13,719 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2021-11-08 11:25:13,720 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2021-11-08 11:25:13,720 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2021-11-08 11:25:13,720 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2021-11-08 11:25:13,720 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2021-11-08 11:25:13,720 [myid:] - INFO  [main:QuorumRestartTest@104] - ***** new leader: 2
2021-11-08 11:25:13,720 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:13,720 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:25:13,721 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:25:13,721 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:13,721 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30095:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:13,721 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:13,722 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:13,722 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:13,722 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:25:13,722 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:13,722 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:25:13,723 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:13,723 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:25:13,723 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:25:13,723 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:25:13,724 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:13,724 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:25:13,724 [myid:] - ERROR [LearnerHandler-/127.0.0.1:3898:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:13,724 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30094
2021-11-08 11:25:13,724 [myid:] - ERROR [LearnerHandler-/127.0.0.1:3931:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:13,724 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3931:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:3931 ********
2021-11-08 11:25:13,724 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3931:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:13,724 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:13,724 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 403ms. Sync state: true
2021-11-08 11:25:13,724 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3898:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:3898 ********
2021-11-08 11:25:13,725 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:13,725 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3898:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:13,725 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 251ms. Sync state: true
2021-11-08 11:25:13,725 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:13,726 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:13,726 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:13,726 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:13,726 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:13,728 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,726 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:25:13,728 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:25:13,728 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:13,728 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:25:13,728 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,726 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:13,728 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:25:13,728 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:13,728 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:13,729 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,729 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:13,729 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2 to exit thread
2021-11-08 11:25:13,729 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:13,729 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:25:13,729 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,729 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:25:13,729 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:13,729 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:13,729 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:25:13,729 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:13,729 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:13,729 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:13,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:13,730 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:13,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:13,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x100000000
2021-11-08 11:25:13,731 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,731 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,731 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,731 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:25:13,731 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,731 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,731 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:25:13,731 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:13,732 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:13,732 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:25:13,731 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:13,732 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:13,733 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:13,733 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:13,733 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:13,733 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:13,733 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:13,733 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:13,733 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:13,734 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:13,734 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:13,734 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:13,734 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x0
2021-11-08 11:25:13,734 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,735 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,939 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:25:13,939 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FastLeaderElection@984] - Notification time out: 400
2021-11-08 11:25:13,939 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,939 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,939 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,940 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:13,960 [myid:] - WARN  [Thread-59:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:13,968 [myid:] - WARN  [Thread-60:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:14,073 [myid:] - WARN  [Thread-62:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:14,117 [myid:] - WARN  [Thread-63:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:14,117 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:14,117 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:14,117 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:25:14,117 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:14,117 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:14,117 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:25:14,117 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:25:14,117 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:14,155 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 422 MS
2021-11-08 11:25:14,156 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 426 MS
2021-11-08 11:25:14,157 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:14,157 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:25:14,157 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.100000000
2021-11-08 11:25:14,157 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 1 ms
2021-11-08 11:25:14,157 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30098:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30098
2021-11-08 11:25:14,159 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3946:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2021-11-08 11:25:14,166 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:14,170 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:14,170 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3946:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:14,170 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3946:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2021-11-08 11:25:14,171 [myid:] - INFO  [LearnerHandler-/127.0.0.1:3946:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:14,171 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:14,171 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000000
2021-11-08 11:25:14,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:14,172 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:14,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:14,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:14,173 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2\snapshot.100000000
2021-11-08 11:25:14,174 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:25:14,176 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:14,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:14,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:14,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:14,180 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 3]]; starting up and setting last processed zxid: 0x200000000
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:25:14,181 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:3) started, reconfigEnabled=false
2021-11-08 11:25:14,181 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:25:14,182 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:14,182 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:14,235 [myid:] - WARN  [Thread-64:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:25:15,699 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:25:15,776 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:15,779 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30094
2021-11-08 11:25:15,779 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:15,780 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:15,780 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:15,792 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:16,197 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:16,197 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:16,197 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@23941fb4 secure: false on addr /127.0.0.1:30094
2021-11-08 11:25:16,197 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:16,197 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,197 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,198 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:16,198 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:16,198 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:16,198 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.0
2021-11-08 11:25:16,198 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:25:16,199 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2021-11-08 11:25:16,199 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30094
2021-11-08 11:25:16,201 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30094
2021-11-08 11:25:16,201 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:16,201 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:16,201 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:16,202 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30096
2021-11-08 11:25:16,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:16,202 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x0
2021-11-08 11:25:16,203 [myid:] - WARN  [nioEventLoopGroup-76-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:25:16,203 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,203 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:4088
2021-11-08 11:25:16,204 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:4089
2021-11-08 11:25:16,204 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:25:16,204 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,204 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:4090
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,205 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,206 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2021-11-08 11:25:16,206 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:16,210 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30098:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30098
2021-11-08 11:25:16,211 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4094:LearnerHandler@506] - Follower sid: 2 : info : 127.0.0.1:30095:30096:participant;127.0.0.1:30094
2021-11-08 11:25:16,215 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4094:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:16,215 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:16,215 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4094:LearnerHandler@801] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x0
2021-11-08 11:25:16,215 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4094:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x200000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:16,215 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:16,215 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:25:16,216 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,216 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,217 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:16,217 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:16,217 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.200000000
2021-11-08 11:25:16,220 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:16,223 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:16,224 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:16,224 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:16,224 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:16,224 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:16,224 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:16,462 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:16,463 [myid:] - INFO  [nioEventLoopGroup-76-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:4163
2021-11-08 11:25:16,463 [myid:] - INFO  [nioEventLoopGroup-76-2:StatCommand@52] - Stat command output
2021-11-08 11:25:16,465 [myid:] - INFO  [main:QuorumRestartTest@118] - ***** Leader Restart 1 succeeded
2021-11-08 11:25:16,465 [myid:] - INFO  [main:QuorumRestartTest@104] - ***** new leader: 3
2021-11-08 11:25:16,465 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3
2021-11-08 11:25:16,465 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:25:16,465 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:25:16,465 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:16,465 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30098:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:16,466 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:16,466 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:16,466 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:16,466 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:25:16,466 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:25:16,466 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:25:16,467 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:25:16,467 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:16,467 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:16,467 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:25:16,467 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:25:16,467 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:16,467 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:25:16,467 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:25:16,468 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 2.
2021-11-08 11:25:16,468 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:16,468 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:25:16,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30098). Was connected for 257ms. Sync state: true
2021-11-08 11:25:16,468 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:16,468 [myid:] - ERROR [LearnerHandler-/127.0.0.1:4094:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:16,468 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30097
2021-11-08 11:25:16,468 [myid:] - ERROR [LearnerHandler-/127.0.0.1:3946:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:16,468 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:16,469 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3946:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:3946 ********
2021-11-08 11:25:16,468 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30098). Was connected for 2310ms. Sync state: true
2021-11-08 11:25:16,468 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4094:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:4094 ********
2021-11-08 11:25:16,469 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4094:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:16,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:16,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:16,469 [myid:] - WARN  [LearnerHandler-/127.0.0.1:3946:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:16,469 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:16,469 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:16,469 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:25:16,470 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:16,469 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:16,470 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:16,470 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:16,470 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:16,471 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:16,470 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:16,471 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:16,471 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:16,472 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:16,472 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:16,470 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:16,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:16,472 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:16,470 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:16,472 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:16,472 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:16,470 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:16,472 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:16,472 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:25:16,472 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:16,472 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:16,471 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:25:16,471 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3
2021-11-08 11:25:16,473 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3 to exit thread
2021-11-08 11:25:16,473 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:16,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:16,473 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:16,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:16,473 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x100000000
2021-11-08 11:25:16,472 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:25:16,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x200000000
2021-11-08 11:25:16,473 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:16,474 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,474 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:16,566 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:16,570 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2
2021-11-08 11:25:16,682 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 209 MS
2021-11-08 11:25:16,683 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2
2021-11-08 11:25:16,684 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:25:16,684 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 211 MS
2021-11-08 11:25:16,684 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.200000000
2021-11-08 11:25:16,684 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:16,685 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 1 ms
2021-11-08 11:25:16,685 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30095
2021-11-08 11:25:16,686 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4173:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2021-11-08 11:25:16,690 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:16,693 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4173:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:16,693 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:16,694 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4173:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x200000000 peerLastZxid=0x100000000
2021-11-08 11:25:16,694 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4173:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x100000000, zxid of leader is 0x300000000, send zxid of db as 0x200000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:16,694 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:16,694 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x200000000
2021-11-08 11:25:16,695 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,695 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:16,696 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:16,696 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:16,696 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x200000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2\snapshot.200000000
2021-11-08 11:25:16,697 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:25:16,699 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:16,702 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 2]]; starting up and setting last processed zxid: 0x300000000
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:16,703 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:16,704 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:25:16,704 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:2) started, reconfigEnabled=false
2021-11-08 11:25:16,704 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:25:16,704 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:25:16,704 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:16,704 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:16,714 [myid:] - WARN  [Thread-68:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:25:16,714 [myid:] - WARN  [Thread-69:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:16,714 [myid:] - WARN  [Thread-67:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:16,714 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:16,714 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:16,714 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:16,714 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:16,714 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:25:16,714 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:25:16,714 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:25:16,714 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:25:17,692 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:25:18,513 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 3; public port 30097
2021-11-08 11:25:18,513 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:18,513 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:18,513 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:18,514 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:18,516 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@401] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:18,833 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:18,833 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:18,833 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@700fb871 secure: false on addr /127.0.0.1:30097
2021-11-08 11:25:18,834 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:18,834 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:18,834 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:18,834 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:18,834 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:18,834 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:18,835 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.100000000
2021-11-08 11:25:18,835 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:25:18,835 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x100000000, digest is 1371985504
2021-11-08 11:25:18,836 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30097
2021-11-08 11:25:18,837 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30097
2021-11-08 11:25:18,837 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:18,837 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:18,838 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:18,838 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: /127.0.0.1:30099
2021-11-08 11:25:18,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:18,838 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x100000000
2021-11-08 11:25:18,839 [myid:] - WARN  [nioEventLoopGroup-79-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:25:18,839 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,840 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:4475
2021-11-08 11:25:18,840 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:4476
2021-11-08 11:25:18,841 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,841 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,841 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,841 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x2, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:18,842 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:18,842 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2021-11-08 11:25:18,843 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:18,843 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30095
2021-11-08 11:25:18,845 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4481:LearnerHandler@506] - Follower sid: 3 : info : 127.0.0.1:30098:30099:participant;127.0.0.1:30097
2021-11-08 11:25:18,852 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:18,852 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4481:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:18,852 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4481:LearnerHandler@801] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000000 peerLastZxid=0x100000000
2021-11-08 11:25:18,853 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4481:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x100000000, zxid of leader is 0x300000000, send zxid of db as 0x300000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:18,853 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:18,853 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x300000000
2021-11-08 11:25:18,854 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:18,854 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:18,855 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:18,855 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:18,855 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x300000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.300000000
2021-11-08 11:25:18,858 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:18,862 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:18,862 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:18,862 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:18,862 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:18,863 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:18,863 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:19,089 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:19,090 [myid:] - INFO  [nioEventLoopGroup-79-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:4513
2021-11-08 11:25:19,090 [myid:] - INFO  [nioEventLoopGroup-79-2:StatCommand@52] - Stat command output
2021-11-08 11:25:19,091 [myid:] - INFO  [main:QuorumRestartTest@118] - ***** Leader Restart 2 succeeded
2021-11-08 11:25:19,091 [myid:] - INFO  [main:QuorumRestartTest@104] - ***** new leader: 2
2021-11-08 11:25:19,092 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:19,092 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:25:19,092 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:25:19,092 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:19,092 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30095:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:19,092 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:19,093 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:19,093 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:19,093 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:25:19,093 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:25:19,093 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:25:19,093 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:25:19,093 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:19,094 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:19,093 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:25:19,094 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:25:19,094 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:19,094 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:25:19,094 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:25:19,095 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:25:19,095 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:19,095 [myid:] - INFO  [main:LearnerHandler@1155] - Synchronously closing socket to learner 3.
2021-11-08 11:25:19,095 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 2409ms. Sync state: true
2021-11-08 11:25:19,095 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:19,095 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:19,095 [myid:] - ERROR [LearnerHandler-/127.0.0.1:4173:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:19,095 [myid:] - ERROR [LearnerHandler-/127.0.0.1:4481:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:19,095 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@133] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:19,095 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:19,095 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30094
2021-11-08 11:25:19,095 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 251ms. Sync state: true
2021-11-08 11:25:19,096 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:19,096 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@829] - shutting down
2021-11-08 11:25:19,095 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4481:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:4481 ********
2021-11-08 11:25:19,095 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4173:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:4173 ********
2021-11-08 11:25:19,096 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4481:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:19,096 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:19,096 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4173:LearnerHandler@1045] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1043)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:733)
2021-11-08 11:25:19,096 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestThrottler@258] - Shutting down
2021-11-08 11:25:19,097 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:19,097 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:19,096 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:19,097 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:19,099 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:19,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:19,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:19,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:19,098 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:19,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:19,099 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:19,100 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:19,098 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:19,098 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@632] - Shutting down
2021-11-08 11:25:19,097 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:25:19,100 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:25:19,098 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:19,097 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:19,097 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:19,100 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:25:19,100 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2 to exit thread
2021-11-08 11:25:19,100 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:19,100 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:19,100 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:19,100 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:19,100 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:19,100 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:19,100 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:19,100 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FastLeaderElection@947] - New election. My id = 3, proposed zxid=0x300000000
2021-11-08 11:25:19,100 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:25:19,101 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:19,101 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:19,101 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:19,100 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:19,100 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:25:19,101 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:25:19,101 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@947] - New election. My id = 1, proposed zxid=0x200000000
2021-11-08 11:25:19,101 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:19,102 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,102 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,102 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,102 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,102 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,103 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:19,216 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:19,216 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@901] - Peer state changed: leading
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1527] - LEADING
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2
2021-11-08 11:25:19,305 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@584] - LEADING - LEADER ELECTION TOOK - 205 MS
2021-11-08 11:25:19,305 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - discovery
2021-11-08 11:25:19,305 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x300000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7381577621798628599.junit.dir\version-2\snapshot.300000000
2021-11-08 11:25:19,305 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 0 ms
2021-11-08 11:25:19,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 205 MS
2021-11-08 11:25:19,307 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:19,310 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30098:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30098
2021-11-08 11:25:19,317 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4520:LearnerHandler@506] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2021-11-08 11:25:19,327 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:19,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4520:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:19,331 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:19,331 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4520:LearnerHandler@801] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000000 peerLastZxid=0x200000000
2021-11-08 11:25:19,332 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4520:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x200000000, zxid of leader is 0x400000000, send zxid of db as 0x300000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:19,332 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:19,332 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x300000000
2021-11-08 11:25:19,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:19,333 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:19,336 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - synchronization
2021-11-08 11:25:19,336 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:19,336 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:19,336 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x300000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test781285064018674310.junit.dir\version-2\snapshot.300000000
2021-11-08 11:25:19,339 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:19,342 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:19,342 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:19,342 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:19,342 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:19,343 [myid:] - WARN  [Thread-73:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:19,343 [myid:] - WARN  [Thread-75:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:25:19,348 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@1495] - Have quorum of supporters, sids: [[1, 3]]; starting up and setting last processed zxid: 0x400000000
2021-11-08 11:25:19,348 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@1517] - Dynamic reconfig feature is disabled, skip designatedLeader calculation and reconfig processing.
2021-11-08 11:25:19,348 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:19,355 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2021-11-08 11:25:19,355 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:19,355 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 1
2021-11-08 11:25:19,355 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:19,355 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2021-11-08 11:25:19,355 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.read(SocketInputStream.java:183)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:19,355 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2021-11-08 11:25:19,348 [myid:] - WARN  [Thread-74:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:19,348 [myid:] - WARN  [Thread-76:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:19,348 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:19,356 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:19,356 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ProposalRequestProcessor@57] - zookeeper.forward_learner_requests_to_commit_processor_disabled = false
2021-11-08 11:25:19,356 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):ContainerManager@84] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2021-11-08 11:25:19,360 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: leading - broadcast
2021-11-08 11:25:19,360 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:19,361 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:19,361 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@137] - PrepRequestProcessor (sid:3) started, reconfigEnabled=false
2021-11-08 11:25:19,691 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:25:21,133 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:21,136 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30094
2021-11-08 11:25:21,137 [myid:] - INFO  [main:NettyServerCnxnFactory@507] - zookeeper.client.portUnification=false
2021-11-08 11:25:21,137 [myid:] - INFO  [main:NettyServerCnxnFactory@519] - zookeeper.netty.advancedFlowControl.enabled = false
2021-11-08 11:25:21,137 [myid:] - INFO  [main:NettyServerCnxnFactory@106] - handshakeThrottlingEnabled = false, zookeeper.netty.server.outstandingHandshake.limit = -1
2021-11-08 11:25:21,163 [myid:] - WARN  [QuorumConnectionThread-[myid=3]-3:QuorumCnxManager@401] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:384)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:458)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:21,530 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NettyServerCnxnFactory as server connection factory
2021-11-08 11:25:21,530 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2021-11-08 11:25:21,530 [myid:] - INFO  [main:NettyServerCnxnFactory@606] - configure org.apache.zookeeper.server.NettyServerCnxnFactory@311bf055 secure: false on addr /127.0.0.1:30094
2021-11-08 11:25:21,530 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2021-11-08 11:25:21,531 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:21,531 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:21,531 [myid:] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2021-11-08 11:25:21,531 [myid:] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2021-11-08 11:25:21,531 [myid:] - WARN  [main:QuorumPeer@1846] - configFilename is null! This should only happen in tests.
2021-11-08 11:25:21,532 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.200000000
2021-11-08 11:25:21,532 [myid:] - INFO  [main:DataTree@1716] - The digest value is empty in snapshot
2021-11-08 11:25:21,532 [myid:] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 1 ms, highest zxid is 0x200000000, digest is 1371985504
2021-11-08 11:25:21,533 [myid:] - INFO  [main:NettyServerCnxnFactory@695] - binding to port /127.0.0.1:30094
2021-11-08 11:25:21,534 [myid:] - INFO  [main:NettyServerCnxnFactory@700] - bound to port 30094
2021-11-08 11:25:21,534 [myid:] - INFO  [main:QuorumPeer@2569] - Using 4000ms as the quorum cnxn socket timeout
2021-11-08 11:25:21,534 [myid:] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2021-11-08 11:25:21,535 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:21,537 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1430] - LOOKING
2021-11-08 11:25:21,537 [myid:] - WARN  [nioEventLoopGroup-82-1:NettyServerCnxnFactory$CnxnChannelHandler@231] - Zookeeper server is not running, close the connection before starting the TLS handshake
2021-11-08 11:25:21,537 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1066] - 2 is accepting connections now, my election bind port: /127.0.0.1:30096
2021-11-08 11:25:21,537 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@947] - New election. My id = 2, proposed zxid=0x200000000
2021-11-08 11:25:21,538 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,538 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:5919
2021-11-08 11:25:21,538 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30099:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:5920
2021-11-08 11:25:21,539 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@514] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2021-11-08 11:25:21,540 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x200000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,540 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1071] - Received connection request from /127.0.0.1:5921
2021-11-08 11:25:21,540 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,540 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x4, n.peerEpoch:0x4, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,540 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,541 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,541 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:3, n.round:0x4, n.peerEpoch:0x4, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,541 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,541 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LEADING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x4, n.peerEpoch:0x3, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,542 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x4, n.peerEpoch:0x4, n.zxid:0x300000000, message format version:0x2, n.config version:0x0
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2 snapdir D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2021-11-08 11:25:21,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2021-11-08 11:25:21,543 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30098:Learner$LeaderConnector@381] - Successfully connected to leader, using address: /127.0.0.1:30098
2021-11-08 11:25:21,544 [myid:] - INFO  [LearnerHandler-/127.0.0.1:5927:LearnerHandler@506] - Follower sid: 2 : info : 127.0.0.1:30095:30096:participant;127.0.0.1:30094
2021-11-08 11:25:21,551 [myid:] - INFO  [LearnerHandler-/127.0.0.1:5927:ZKDatabase@346] - On disk txn sync enabled with snapshotSizeFactor 0.33
2021-11-08 11:25:21,551 [myid:] - INFO  [LearnerHandler-/127.0.0.1:5927:LearnerHandler@801] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x400000000 peerLastZxid=0x200000000
2021-11-08 11:25:21,552 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2021-11-08 11:25:21,552 [myid:] - INFO  [LearnerHandler-/127.0.0.1:5927:LearnerHandler@568] - Sending snapshot last zxid of peer is 0x200000000, zxid of leader is 0x400000000, send zxid of db as 0x400000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2021-11-08 11:25:21,552 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - snap
2021-11-08 11:25:21,552 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x400000000
2021-11-08 11:25:21,552 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:21,552 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2021-11-08 11:25:21,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2021-11-08 11:25:21,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1870] - Dynamic reconfig is disabled, we don't store the last seen config.
2021-11-08 11:25:21,553 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x400000000 to D:\mysoft\faiscoGit\myStudy\ZooKeeperLearning\apache-zookeeper-3.7.0\zookeeper-server\target\surefire\test7346857177196792293.junit.dir\version-2\snapshot.400000000
2021-11-08 11:25:21,556 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 3 ms
2021-11-08 11:25:21,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2021-11-08 11:25:21,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2021-11-08 11:25:21,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 6 worker threads.
2021-11-08 11:25:21,560 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2021-11-08 11:25:21,561 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Learner@718] - Learner received UPTODATE message
2021-11-08 11:25:21,561 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2021-11-08 11:25:21,799 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:21,801 [myid:] - INFO  [nioEventLoopGroup-82-2:NettyServerCnxn@294] - Processing stat command from /127.0.0.1:7322
2021-11-08 11:25:21,801 [myid:] - INFO  [nioEventLoopGroup-82-2:StatCommand@52] - Stat command output
2021-11-08 11:25:21,802 [myid:] - INFO  [main:QuorumRestartTest@118] - ***** Leader Restart 3 succeeded
2021-11-08 11:25:21,802 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled) with id 1
2021-11-08 11:25:21,802 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:25:21,803 [myid:] - ERROR [LearnerHandler-/127.0.0.1:4520:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:21,803 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:21,803 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:21,803 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30098). Was connected for 2487ms. Sync state: true
2021-11-08 11:25:21,803 [myid:] - INFO  [LearnerHandler-/127.0.0.1:4520:LearnerHandler@1155] - Synchronously closing socket to learner 1.
2021-11-08 11:25:21,803 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:21,803 [myid:] - WARN  [LearnerHandler-/127.0.0.1:4520:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:4520 ********
2021-11-08 11:25:21,803 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:21,803 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:21,803 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:21,803 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:21,804 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:21,804 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:21,804 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30091
2021-11-08 11:25:21,804 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:21,804 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:21,804 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:21,817 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:21,817 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:21,819 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2021-11-08 11:25:21,819 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.read(SocketInputStream.java:183)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:21,820 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2021-11-08 11:25:21,817 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:21,820 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:21,819 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:21,818 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:21,840 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 1
2021-11-08 11:25:21,817 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled) with id 1
2021-11-08 11:25:21,842 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled) with id 1 to exit thread
2021-11-08 11:25:21,843 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:21,843 [myid:] - INFO  [main:Follower@291] - shutdown Follower
2021-11-08 11:25:21,820 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 2
2021-11-08 11:25:21,843 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@133] - Exception when following the leader
java.net.SocketException: Socket Closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:150)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:128)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1515)
2021-11-08 11:25:21,843 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:21,843 [myid:] - ERROR [LearnerHandler-/127.0.0.1:5927:LearnerHandler@715] - Unexpected exception in LearnerHandler: 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:652)
2021-11-08 11:25:21,843 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:21,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@147] - Disconnected from leader (with address: /127.0.0.1:30098). Was connected for 300ms. Sync state: true
2021-11-08 11:25:21,844 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Follower@291] - shutdown Follower
2021-11-08 11:25:21,843 [myid:] - INFO  [LearnerHandler-/127.0.0.1:5927:LearnerHandler@1155] - Synchronously closing socket to learner 2.
2021-11-08 11:25:21,844 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:21,844 [myid:] - WARN  [LearnerHandler-/127.0.0.1:5927:LearnerHandler@731] - ******* GOODBYE /127.0.0.1:5927 ********
2021-11-08 11:25:21,845 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:21,845 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:21,846 [myid:] - INFO  [main:FollowerRequestProcessor@172] - Shutting down
2021-11-08 11:25:21,846 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:21,846 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:21,847 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30094
2021-11-08 11:25:21,847 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:21,848 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:21,848 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:21,848 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2021-11-08 11:25:21,848 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:21,850 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:21,863 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:21,864 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:21,865 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2021-11-08 11:25:21,865 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.read(SocketInputStream.java:183)
	at java.net.SocketInputStream.read(SocketInputStream.java:121)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2021-11-08 11:25:21,865 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2021-11-08 11:25:21,865 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:21,866 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 3 my id = 2
2021-11-08 11:25:21,866 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2
2021-11-08 11:25:21,866 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) with id 2 to exit thread
2021-11-08 11:25:21,866 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3
2021-11-08 11:25:21,866 [myid:] - INFO  [main:Leader@789] - Shutting down
2021-11-08 11:25:21,866 [myid:] - INFO  [main:Leader@795] - Shutdown called. For the reason quorum Peer shutdown
2021-11-08 11:25:21,866 [myid:] - INFO  [main:ZooKeeperServer@829] - shutting down
2021-11-08 11:25:21,866 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30098:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@526] - Exception while shutting down acceptor.
java.net.SocketException: socket closed
	at java.net.DualStackPlainSocketImpl.accept0(Native Method)
	at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:199)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:496)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2021-11-08 11:25:21,867 [myid:] - INFO  [main:RequestThrottler@258] - Shutting down
2021-11-08 11:25:21,874 [myid:] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2021-11-08 11:25:21,874 [myid:] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2021-11-08 11:25:21,874 [myid:] - INFO  [main:SessionTrackerImpl@252] - Shutting down
2021-11-08 11:25:21,875 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2021-11-08 11:25:21,875 [myid:] - INFO  [main:PrepRequestProcessor@1066] - Shutting down
2021-11-08 11:25:21,875 [myid:] - INFO  [main:ProposalRequestProcessor@95] - Shutting down
2021-11-08 11:25:21,875 [myid:] - INFO  [main:CommitProcessor@632] - Shutting down
2021-11-08 11:25:21,876 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1103] - Shutting down
2021-11-08 11:25:21,876 [myid:] - INFO  [main:FinalRequestProcessor@684] - shutdown of request processor complete
2021-11-08 11:25:21,876 [myid:] - INFO  [main:SyncRequestProcessor@255] - Shutting down
2021-11-08 11:25:21,876 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2021-11-08 11:25:21,876 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@161] - PrepRequestProcessor exited loop!
2021-11-08 11:25:21,876 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2021-11-08 11:25:21,876 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@224] - SyncRequestProcessor exited!
2021-11-08 11:25:21,877 [myid:] - INFO  [main:NettyServerCnxnFactory@647] - shutdown called /127.0.0.1:30097
2021-11-08 11:25:21,876 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2021-11-08 11:25:21,890 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1533] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:727)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1530)
2021-11-08 11:25:21,890 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):Leader@789] - Shutting down
2021-11-08 11:25:21,890 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2021-11-08 11:25:21,890 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1563] - PeerState set to LOOKING
2021-11-08 11:25:21,890 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled):QuorumPeer@1545] - QuorumPeer main thread exited
2021-11-08 11:25:21,891 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2021-11-08 11:25:21,918 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3
2021-11-08 11:25:21,919 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30097)(secure=disabled) with id 3 to exit thread
2021-11-08 11:25:21,919 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30091
2021-11-08 11:25:22,048 [myid:] - WARN  [Thread-80:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:22,048 [myid:] - WARN  [Thread-82:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2021-11-08 11:25:22,048 [myid:] - WARN  [Thread-83:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2021-11-08 11:25:22,048 [myid:] - WARN  [Thread-81:QuorumCnxManager$SendWorker@1313] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2021-11-08 11:25:23,692 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2021-11-08 11:25:23,961 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30091 is no longer accepting client connections
2021-11-08 11:25:23,961 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30094
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2021-11-08 11:25:24,551 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2021-11-08 11:25:25,982 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30094 is no longer accepting client connections
2021-11-08 11:25:25,982 [myid:] - INFO  [main:FourLetterWordMain@94] - connecting to 127.0.0.1 30097
2021-11-08 11:25:28,031 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30097 is no longer accepting client connections
2021-11-08 11:25:28,031 [myid:] - INFO  [main:ZKTestCase@82] - FINISHED Optional[public void org.apache.zookeeper.test.QuorumRestartTest.testRestartingLeaderMultipleTimes() throws java.lang.Exception]
